
*** toml-pretty-deser/src/lib.rs:1621:13: delete match arm TomlValueState::Ok{..} in TomlValue<T>::unwrap

*** mutation diff:
--- toml-pretty-deser/src/lib.rs
+++ delete match arm TomlValueState::Ok{..} in TomlValue<T>::unwrap
@@ -1613,17 +1613,17 @@
         match self.state {
             TomlValueState::Ok { .. } => self.value.as_ref(),
             _ => None,
         }
     }
 
     pub fn unwrap(self) -> T {
         match self.state {
-            TomlValueState::Ok { .. } => self.value.unwrap(),
+             /* ~ changed by cargo-mutants ~ */
             _ => panic!("Called unwrap on a TomlValue that is not Ok"),
         }
     }
 
     pub fn register_error(&self, errors: &Rc<RefCell<Vec<AnnotatedError>>>) {
         match &self.state {
             TomlValueState::NotSet => {}
             TomlValueState::Missing { key, parent_span } => {


*** /nix/store/826jircl576xphx7a459njgqfmcbd4x5-cargo-1.95.0-nightly-2026-01-21-x86_64-unknown-linux-gnu/bin/cargo test --no-run --verbose --package=toml-pretty-deser@0.1.0
       Fresh unicode-ident v1.0.22
       Fresh proc-macro2 v1.0.106
       Fresh autocfg v1.5.0
       Fresh quote v1.0.44
       Fresh winnow v0.7.14
       Fresh hashbrown v0.16.1
       Fresh equivalent v1.0.2
       Fresh indexmap v2.13.0
       Fresh toml_parser v1.0.6+spec-1.1.0
       Fresh syn v2.0.114
       Fresh regex-automata v0.4.13
       Fresh toml_datetime v0.7.5+spec-1.1.0
       Fresh toml_writer v1.0.6+spec-1.1.0
       Fresh memchr v2.7.6
       Fresh bstr v1.12.1
       Fresh toml_edit v0.24.0+spec-1.1.0
       Fresh num-traits v0.2.19
       Fresh toml-pretty-deser-macros v0.1.0 (/tmp/nix-shell.fWA0aw/cargo-mutants-toml-pretty-deser-zBlI0F.tmp/toml-pretty-deser-macros)
       Fresh codesnake v0.2.1
       Fresh strsim v0.11.1
       Dirty toml-pretty-deser v0.1.0 (/tmp/nix-shell.fWA0aw/cargo-mutants-toml-pretty-deser-zBlI0F.tmp/toml-pretty-deser): couldn't read metadata for file `/home/finkernagel/.cache/cargo/target/debug/deps/libtoml_pretty_deser-23ebeb13d54ac447.rlib`
   Compiling toml-pretty-deser v0.1.0 (/tmp/nix-shell.fWA0aw/cargo-mutants-toml-pretty-deser-zBlI0F.tmp/toml-pretty-deser)
     Running `rustc --crate-name toml_pretty_deser --edition=2024 toml-pretty-deser/src/lib.rs --error-format=json --json=diagnostic-rendered-ansi,artifacts,future-incompat --crate-type lib --emit=dep-info,metadata,link -C embed-bitcode=no -C debuginfo=2 --check-cfg 'cfg(docsrs,test)' --check-cfg 'cfg(feature, values())' -C metadata=a852430a061c5350 -C extra-filename=-23ebeb13d54ac447 --out-dir /home/finkernagel/.cache/cargo/target/debug/deps -C incremental=/home/finkernagel/.cache/cargo/target/debug/incremental -L dependency=/home/finkernagel/.cache/cargo/target/debug/deps --extern bstr=/home/finkernagel/.cache/cargo/target/debug/deps/libbstr-4045620ba0449622.rmeta --extern codesnake=/home/finkernagel/.cache/cargo/target/debug/deps/libcodesnake-4b12368228b7ace0.rmeta --extern memchr=/home/finkernagel/.cache/cargo/target/debug/deps/libmemchr-ce879c287aae1239.rmeta --extern num_traits=/home/finkernagel/.cache/cargo/target/debug/deps/libnum_traits-163a578cc7663ca5.rmeta --extern strsim=/home/finkernagel/.cache/cargo/target/debug/deps/libstrsim-35e26dbaedb97986.rmeta --extern toml_pretty_deser_macros=/home/finkernagel/.cache/cargo/target/debug/deps/libtoml_pretty_deser_macros-f792c9db6a0b2842.so --extern toml_edit=/home/finkernagel/.cache/cargo/target/debug/deps/libtoml_edit-6ba341dc50ff9c99.rmeta -C link-arg=-fuse-ld=mold`
     Running `rustc --crate-name toml_pretty_deser --edition=2024 toml-pretty-deser/src/lib.rs --error-format=json --json=diagnostic-rendered-ansi,artifacts,future-incompat --emit=dep-info,link -C embed-bitcode=no -C debuginfo=2 --test --check-cfg 'cfg(docsrs,test)' --check-cfg 'cfg(feature, values())' -C metadata=857480bb847c9bbe -C extra-filename=-07d9828939c75c69 --out-dir /home/finkernagel/.cache/cargo/target/debug/deps -C incremental=/home/finkernagel/.cache/cargo/target/debug/incremental -L dependency=/home/finkernagel/.cache/cargo/target/debug/deps --extern bstr=/home/finkernagel/.cache/cargo/target/debug/deps/libbstr-4045620ba0449622.rlib --extern codesnake=/home/finkernagel/.cache/cargo/target/debug/deps/libcodesnake-4b12368228b7ace0.rlib --extern memchr=/home/finkernagel/.cache/cargo/target/debug/deps/libmemchr-ce879c287aae1239.rlib --extern num_traits=/home/finkernagel/.cache/cargo/target/debug/deps/libnum_traits-163a578cc7663ca5.rlib --extern strsim=/home/finkernagel/.cache/cargo/target/debug/deps/libstrsim-35e26dbaedb97986.rlib --extern toml_pretty_deser_macros=/home/finkernagel/.cache/cargo/target/debug/deps/libtoml_pretty_deser_macros-f792c9db6a0b2842.so --extern toml_edit=/home/finkernagel/.cache/cargo/target/debug/deps/libtoml_edit-6ba341dc50ff9c99.rlib -C link-arg=-fuse-ld=mold`
warning: field `allowed` is never read
   --> toml-pretty-deser/src/lib.rs:775:5
    |
767 | pub struct TomlHelper<'a> {
    |            ---------- field in this struct
...
775 |     allowed: HashMap<String, String>,
    |     ^^^^^^^
    |
    = note: `#[warn(dead_code)]` (part of `#[warn(unused)]`) on by default

warning: `toml-pretty-deser` (lib test) generated 1 warning (1 duplicate)
warning: `toml-pretty-deser` (lib) generated 1 warning
     Running `rustc --crate-name basic --edition=2024 toml-pretty-deser/tests/basic.rs --error-format=json --json=diagnostic-rendered-ansi,artifacts,future-incompat --emit=dep-info,link -C embed-bitcode=no -C debuginfo=2 --test --check-cfg 'cfg(docsrs,test)' --check-cfg 'cfg(feature, values())' -C metadata=608c682146c4ede0 -C extra-filename=-c7883bdc8893c706 --out-dir /home/finkernagel/.cache/cargo/target/debug/deps -C incremental=/home/finkernagel/.cache/cargo/target/debug/incremental -L dependency=/home/finkernagel/.cache/cargo/target/debug/deps --extern bstr=/home/finkernagel/.cache/cargo/target/debug/deps/libbstr-4045620ba0449622.rlib --extern codesnake=/home/finkernagel/.cache/cargo/target/debug/deps/libcodesnake-4b12368228b7ace0.rlib --extern memchr=/home/finkernagel/.cache/cargo/target/debug/deps/libmemchr-ce879c287aae1239.rlib --extern num_traits=/home/finkernagel/.cache/cargo/target/debug/deps/libnum_traits-163a578cc7663ca5.rlib --extern strsim=/home/finkernagel/.cache/cargo/target/debug/deps/libstrsim-35e26dbaedb97986.rlib --extern toml_pretty_deser=/home/finkernagel/.cache/cargo/target/debug/deps/libtoml_pretty_deser-23ebeb13d54ac447.rlib --extern toml_pretty_deser_macros=/home/finkernagel/.cache/cargo/target/debug/deps/libtoml_pretty_deser_macros-f792c9db6a0b2842.so --extern toml_edit=/home/finkernagel/.cache/cargo/target/debug/deps/libtoml_edit-6ba341dc50ff9c99.rlib -C link-arg=-fuse-ld=mold`
warning: unused variable: `errors`
   --> toml-pretty-deser/tests/basic.rs:535:41
    |
535 |     if let Err(DeserError::DeserFailure(errors, output)) = result {
    |                                         ^^^^^^ help: if this is intentional, prefix it with an underscore: `_errors`
    |
    = note: `#[warn(unused_variables)]` (part of `#[warn(unused)]`) on by default

warning: unused variable: `errors`
    --> toml-pretty-deser/tests/basic.rs:1076:41
     |
1076 |     if let Err(DeserError::DeserFailure(errors, output)) = result {
     |                                         ^^^^^^ help: if this is intentional, prefix it with an underscore: `_errors`

warning: `toml-pretty-deser` (test "basic") generated 2 warnings (run `cargo fix --test "basic" -p toml-pretty-deser` to apply 2 suggestions)
    Finished `test` profile [unoptimized + debuginfo] target(s) in 0.42s
  Executable `/home/finkernagel/.cache/cargo/target/debug/deps/toml_pretty_deser-07d9828939c75c69`
  Executable `/home/finkernagel/.cache/cargo/target/debug/deps/basic-c7883bdc8893c706`

*** result: Success

*** /nix/store/826jircl576xphx7a459njgqfmcbd4x5-cargo-1.95.0-nightly-2026-01-21-x86_64-unknown-linux-gnu/bin/cargo test --verbose --package=toml-pretty-deser@0.1.0
       Fresh unicode-ident v1.0.22
       Fresh proc-macro2 v1.0.106
       Fresh autocfg v1.5.0
       Fresh quote v1.0.44
       Fresh winnow v0.7.14
       Fresh hashbrown v0.16.1
       Fresh equivalent v1.0.2
       Fresh syn v2.0.114
       Fresh regex-automata v0.4.13
       Fresh toml_writer v1.0.6+spec-1.1.0
       Fresh memchr v2.7.6
       Fresh toml_datetime v0.7.5+spec-1.1.0
       Fresh codesnake v0.2.1
       Fresh strsim v0.11.1
       Fresh indexmap v2.13.0
       Fresh toml_parser v1.0.6+spec-1.1.0
       Fresh toml-pretty-deser-macros v0.1.0 (/tmp/nix-shell.fWA0aw/cargo-mutants-toml-pretty-deser-zBlI0F.tmp/toml-pretty-deser-macros)
       Fresh num-traits v0.2.19
       Fresh bstr v1.12.1
       Fresh toml_edit v0.24.0+spec-1.1.0
warning: field `allowed` is never read
   --> toml-pretty-deser/src/lib.rs:775:5
    |
767 | pub struct TomlHelper<'a> {
    |            ---------- field in this struct
...
775 |     allowed: HashMap<String, String>,
    |     ^^^^^^^
    |
    = note: `#[warn(dead_code)]` (part of `#[warn(unused)]`) on by default

warning: `toml-pretty-deser` (lib) generated 1 warning
warning: `toml-pretty-deser` (lib test) generated 1 warning (1 duplicate)
warning: unused variable: `errors`
   --> toml-pretty-deser/tests/basic.rs:535:41
    |
535 |     if let Err(DeserError::DeserFailure(errors, output)) = result {
    |                                         ^^^^^^ help: if this is intentional, prefix it with an underscore: `_errors`
    |
    = note: `#[warn(unused_variables)]` (part of `#[warn(unused)]`) on by default

warning: unused variable: `errors`
    --> toml-pretty-deser/tests/basic.rs:1076:41
     |
1076 |     if let Err(DeserError::DeserFailure(errors, output)) = result {
     |                                         ^^^^^^ help: if this is intentional, prefix it with an underscore: `_errors`

       Fresh toml-pretty-deser v0.1.0 (/tmp/nix-shell.fWA0aw/cargo-mutants-toml-pretty-deser-zBlI0F.tmp/toml-pretty-deser)
warning: `toml-pretty-deser` (test "basic") generated 2 warnings (run `cargo fix --test "basic" -p toml-pretty-deser` to apply 2 suggestions)
    Finished `test` profile [unoptimized + debuginfo] target(s) in 0.02s
     Running `/home/finkernagel/.cache/cargo/target/debug/deps/toml_pretty_deser-07d9828939c75c69`

running 2 tests
test tests::test_field_match_mode ... ok
test tests::test_normalize_no_case ... ok

test result: ok. 2 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

     Running `/home/finkernagel/.cache/cargo/target/debug/deps/basic-c7883bdc8893c706`

running 38 tests
test test_alias_exact_mode ... FAILED
test test_alias_with_any_case_mode ... FAILED
test test_alias_exact_mode_failure ... ok
test test_any_case_mode_camel ... FAILED
test test_any_case_mode_kebab ... FAILED
test test_any_case_mode_shouty ... FAILED
test test_array_wrong_element_type ... ok
test test_any_case_mode_upper_camel ... FAILED
test test_any_case_mode_unknown_key ... ok
test test_arrays_with_optional ... FAILED
test test_any_case_mode_snake ... FAILED
test test_any_case_mode_train ... FAILED
test test_complex_mixed_case ... FAILED
test test_complex_mixed_case_key_reused ... ok
test test_arrays ... FAILED
test test_enum_happy_path ... FAILED
test test_enum_invalid_variant ... ok
test test_enum_optional_missing ... FAILED
test test_enum_missing_required ... ok
test test_nested_happy_half ... ok
test test_nested_happy ... FAILED
test test_happy_path ... FAILED
test test_missing ... ok
test test_nested_lower_failure ... ok
test test_nested_with_any_case_mode ... FAILED
test test_nested_with_alias ... FAILED
test test_optional_missing ... FAILED
test test_two_level_nested_inline_table ... FAILED
test test_two_errors_pretty ... ok
test test_two_level_nested_happy ... FAILED
test test_upper_lower_mode ... FAILED
test test_two_level_nested_missing_inner_field ... ok
test test_range_validation ... ok
test test_vec_missing ... ok
test test_two_level_nested_missing_inner ... ok
test test_two_level_nested_with_optional_nested ... FAILED
test test_validation_failure ... ok
test test_wrong_type ... ok

failures:

---- test_alias_exact_mode stdout ----

thread 'test_alias_exact_mode' (2419462) panicked at toml-pretty-deser/src/lib.rs:1622:18:
Called unwrap on a TomlValue that is not Ok
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace

---- test_alias_with_any_case_mode stdout ----

thread 'test_alias_with_any_case_mode' (2419464) panicked at toml-pretty-deser/src/lib.rs:1622:18:
Called unwrap on a TomlValue that is not Ok

---- test_any_case_mode_camel stdout ----

thread 'test_any_case_mode_camel' (2419465) panicked at toml-pretty-deser/src/lib.rs:1622:18:
Called unwrap on a TomlValue that is not Ok

---- test_any_case_mode_kebab stdout ----

thread 'test_any_case_mode_kebab' (2419466) panicked at toml-pretty-deser/src/lib.rs:1622:18:
Called unwrap on a TomlValue that is not Ok

---- test_any_case_mode_shouty stdout ----

thread 'test_any_case_mode_shouty' (2419467) panicked at toml-pretty-deser/src/lib.rs:1622:18:
Called unwrap on a TomlValue that is not Ok

---- test_any_case_mode_upper_camel stdout ----

thread 'test_any_case_mode_upper_camel' (2419471) panicked at toml-pretty-deser/src/lib.rs:1622:18:
Called unwrap on a TomlValue that is not Ok

---- test_arrays_with_optional stdout ----

thread 'test_arrays_with_optional' (2419474) panicked at toml-pretty-deser/src/lib.rs:1622:18:
Called unwrap on a TomlValue that is not Ok

---- test_any_case_mode_snake stdout ----

thread 'test_any_case_mode_snake' (2419468) panicked at toml-pretty-deser/src/lib.rs:1622:18:
Called unwrap on a TomlValue that is not Ok

---- test_any_case_mode_train stdout ----

thread 'test_any_case_mode_train' (2419469) panicked at toml-pretty-deser/src/lib.rs:1622:18:
Called unwrap on a TomlValue that is not Ok

---- test_complex_mixed_case stdout ----

thread 'test_complex_mixed_case' (2419475) panicked at toml-pretty-deser/src/lib.rs:1622:18:
Called unwrap on a TomlValue that is not Ok

---- test_arrays stdout ----

thread 'test_arrays' (2419473) panicked at toml-pretty-deser/src/lib.rs:1622:18:
Called unwrap on a TomlValue that is not Ok

---- test_enum_happy_path stdout ----

thread 'test_enum_happy_path' (2419477) panicked at toml-pretty-deser/src/lib.rs:1622:18:
Called unwrap on a TomlValue that is not Ok

---- test_enum_optional_missing stdout ----

thread 'test_enum_optional_missing' (2419480) panicked at toml-pretty-deser/src/lib.rs:1622:18:
Called unwrap on a TomlValue that is not Ok

---- test_nested_happy stdout ----

thread 'test_nested_happy' (2419483) panicked at toml-pretty-deser/src/lib.rs:1622:18:
Called unwrap on a TomlValue that is not Ok

---- test_happy_path stdout ----

thread 'test_happy_path' (2419481) panicked at toml-pretty-deser/src/lib.rs:1622:18:
Called unwrap on a TomlValue that is not Ok

---- test_nested_with_any_case_mode stdout ----

thread 'test_nested_with_any_case_mode' (2419487) panicked at toml-pretty-deser/src/lib.rs:1622:18:
Called unwrap on a TomlValue that is not Ok

---- test_nested_with_alias stdout ----

thread 'test_nested_with_alias' (2419486) panicked at toml-pretty-deser/src/lib.rs:1622:18:
Called unwrap on a TomlValue that is not Ok

---- test_optional_missing stdout ----

thread 'test_optional_missing' (2419488) panicked at toml-pretty-deser/src/lib.rs:1622:18:
Called unwrap on a TomlValue that is not Ok

---- test_two_level_nested_inline_table stdout ----

thread 'test_two_level_nested_inline_table' (2419492) panicked at toml-pretty-deser/src/lib.rs:1622:18:
Called unwrap on a TomlValue that is not Ok

---- test_two_level_nested_happy stdout ----

thread 'test_two_level_nested_happy' (2419491) panicked at toml-pretty-deser/src/lib.rs:1622:18:
Called unwrap on a TomlValue that is not Ok

---- test_upper_lower_mode stdout ----

thread 'test_upper_lower_mode' (2419496) panicked at toml-pretty-deser/src/lib.rs:1622:18:
Called unwrap on a TomlValue that is not Ok

---- test_two_level_nested_with_optional_nested stdout ----

thread 'test_two_level_nested_with_optional_nested' (2419495) panicked at toml-pretty-deser/src/lib.rs:1622:18:
Called unwrap on a TomlValue that is not Ok


failures:
    test_alias_exact_mode
    test_alias_with_any_case_mode
    test_any_case_mode_camel
    test_any_case_mode_kebab
    test_any_case_mode_shouty
    test_any_case_mode_snake
    test_any_case_mode_train
    test_any_case_mode_upper_camel
    test_arrays
    test_arrays_with_optional
    test_complex_mixed_case
    test_enum_happy_path
    test_enum_optional_missing
    test_happy_path
    test_nested_happy
    test_nested_with_alias
    test_nested_with_any_case_mode
    test_optional_missing
    test_two_level_nested_happy
    test_two_level_nested_inline_table
    test_two_level_nested_with_optional_nested
    test_upper_lower_mode

test result: FAILED. 16 passed; 22 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

error: test failed, to rerun pass `-p toml-pretty-deser --test basic`

*** result: Failure(101)
