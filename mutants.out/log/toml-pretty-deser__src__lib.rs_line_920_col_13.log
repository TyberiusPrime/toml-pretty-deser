
*** toml-pretty-deser/src/lib.rs:920:13: delete match arm 1 in TomlHelper<'a>::get_with_aliases

*** mutation diff:
--- toml-pretty-deser/src/lib.rs
+++ delete match arm 1 in TomlHelper<'a>::get_with_aliases
@@ -912,22 +912,17 @@
                     FromTomlItem::from_toml_item(&toml_edit::Item::None, parent_span.clone());
                 if let TomlValueState::Missing { ref mut key, .. } = res.state {
                     if key.is_empty() {
                         *key = query_key.to_string().clone();
                     }
                 }
                 res
             }
-            1 => {
-                let (matched_key, item) = found_keys.iter().next().unwrap();
-                let res: TomlValue<T> = FromTomlItem::from_toml_item(&item, parent_span);
-                self.observed.push(self.match_mode.normalize(&matched_key));
-                res
-            }
+             /* ~ changed by cargo-mutants ~ */
             _ => {
                 let spans = found_keys
                     .iter()
                     .map(|(_matched_key, item)| item.span().unwrap_or(0..0))
                     .collect();
 
                 let mut res: TomlValue<T> =
                     FromTomlItem::from_toml_item(&toml_edit::Item::None, parent_span);


*** /nix/store/826jircl576xphx7a459njgqfmcbd4x5-cargo-1.95.0-nightly-2026-01-21-x86_64-unknown-linux-gnu/bin/cargo test --no-run --verbose --package=toml-pretty-deser@0.1.0
       Fresh unicode-ident v1.0.22
       Fresh proc-macro2 v1.0.106
       Fresh autocfg v1.5.0
       Fresh quote v1.0.44
       Fresh winnow v0.7.14
       Fresh hashbrown v0.16.1
       Fresh equivalent v1.0.2
       Fresh syn v2.0.114
       Fresh memchr v2.7.6
       Fresh toml_datetime v0.7.5+spec-1.1.0
       Fresh toml_writer v1.0.6+spec-1.1.0
       Fresh regex-automata v0.4.13
       Fresh strsim v0.11.1
       Fresh codesnake v0.2.1
       Fresh toml_parser v1.0.6+spec-1.1.0
       Fresh indexmap v2.13.0
       Fresh num-traits v0.2.19
       Fresh toml-pretty-deser-macros v0.1.0 (/tmp/nix-shell.fWA0aw/cargo-mutants-toml-pretty-deser-zBlI0F.tmp/toml-pretty-deser-macros)
       Fresh bstr v1.12.1
       Fresh toml_edit v0.24.0+spec-1.1.0
       Dirty toml-pretty-deser v0.1.0 (/tmp/nix-shell.fWA0aw/cargo-mutants-toml-pretty-deser-zBlI0F.tmp/toml-pretty-deser): the file `toml-pretty-deser/src/lib.rs` has changed (1770036656.154459882s, 1s after last build at 1770036655.574484787s)
   Compiling toml-pretty-deser v0.1.0 (/tmp/nix-shell.fWA0aw/cargo-mutants-toml-pretty-deser-zBlI0F.tmp/toml-pretty-deser)
     Running `rustc --crate-name toml_pretty_deser --edition=2024 toml-pretty-deser/src/lib.rs --error-format=json --json=diagnostic-rendered-ansi,artifacts,future-incompat --emit=dep-info,link -C embed-bitcode=no -C debuginfo=2 --test --check-cfg 'cfg(docsrs,test)' --check-cfg 'cfg(feature, values())' -C metadata=857480bb847c9bbe -C extra-filename=-07d9828939c75c69 --out-dir /home/finkernagel/.cache/cargo/target/debug/deps -C incremental=/home/finkernagel/.cache/cargo/target/debug/incremental -L dependency=/home/finkernagel/.cache/cargo/target/debug/deps --extern bstr=/home/finkernagel/.cache/cargo/target/debug/deps/libbstr-4045620ba0449622.rlib --extern codesnake=/home/finkernagel/.cache/cargo/target/debug/deps/libcodesnake-4b12368228b7ace0.rlib --extern memchr=/home/finkernagel/.cache/cargo/target/debug/deps/libmemchr-ce879c287aae1239.rlib --extern num_traits=/home/finkernagel/.cache/cargo/target/debug/deps/libnum_traits-163a578cc7663ca5.rlib --extern strsim=/home/finkernagel/.cache/cargo/target/debug/deps/libstrsim-35e26dbaedb97986.rlib --extern toml_pretty_deser_macros=/home/finkernagel/.cache/cargo/target/debug/deps/libtoml_pretty_deser_macros-f792c9db6a0b2842.so --extern toml_edit=/home/finkernagel/.cache/cargo/target/debug/deps/libtoml_edit-6ba341dc50ff9c99.rlib -C link-arg=-fuse-ld=mold`
     Running `rustc --crate-name toml_pretty_deser --edition=2024 toml-pretty-deser/src/lib.rs --error-format=json --json=diagnostic-rendered-ansi,artifacts,future-incompat --crate-type lib --emit=dep-info,metadata,link -C embed-bitcode=no -C debuginfo=2 --check-cfg 'cfg(docsrs,test)' --check-cfg 'cfg(feature, values())' -C metadata=a852430a061c5350 -C extra-filename=-23ebeb13d54ac447 --out-dir /home/finkernagel/.cache/cargo/target/debug/deps -C incremental=/home/finkernagel/.cache/cargo/target/debug/incremental -L dependency=/home/finkernagel/.cache/cargo/target/debug/deps --extern bstr=/home/finkernagel/.cache/cargo/target/debug/deps/libbstr-4045620ba0449622.rmeta --extern codesnake=/home/finkernagel/.cache/cargo/target/debug/deps/libcodesnake-4b12368228b7ace0.rmeta --extern memchr=/home/finkernagel/.cache/cargo/target/debug/deps/libmemchr-ce879c287aae1239.rmeta --extern num_traits=/home/finkernagel/.cache/cargo/target/debug/deps/libnum_traits-163a578cc7663ca5.rmeta --extern strsim=/home/finkernagel/.cache/cargo/target/debug/deps/libstrsim-35e26dbaedb97986.rmeta --extern toml_pretty_deser_macros=/home/finkernagel/.cache/cargo/target/debug/deps/libtoml_pretty_deser_macros-f792c9db6a0b2842.so --extern toml_edit=/home/finkernagel/.cache/cargo/target/debug/deps/libtoml_edit-6ba341dc50ff9c99.rmeta -C link-arg=-fuse-ld=mold`
warning: field `allowed` is never read
   --> toml-pretty-deser/src/lib.rs:775:5
    |
767 | pub struct TomlHelper<'a> {
    |            ---------- field in this struct
...
775 |     allowed: HashMap<String, String>,
    |     ^^^^^^^
    |
    = note: `#[warn(dead_code)]` (part of `#[warn(unused)]`) on by default

warning: `toml-pretty-deser` (lib) generated 1 warning
     Running `rustc --crate-name basic --edition=2024 toml-pretty-deser/tests/basic.rs --error-format=json --json=diagnostic-rendered-ansi,artifacts,future-incompat --emit=dep-info,link -C embed-bitcode=no -C debuginfo=2 --test --check-cfg 'cfg(docsrs,test)' --check-cfg 'cfg(feature, values())' -C metadata=608c682146c4ede0 -C extra-filename=-c7883bdc8893c706 --out-dir /home/finkernagel/.cache/cargo/target/debug/deps -C incremental=/home/finkernagel/.cache/cargo/target/debug/incremental -L dependency=/home/finkernagel/.cache/cargo/target/debug/deps --extern bstr=/home/finkernagel/.cache/cargo/target/debug/deps/libbstr-4045620ba0449622.rlib --extern codesnake=/home/finkernagel/.cache/cargo/target/debug/deps/libcodesnake-4b12368228b7ace0.rlib --extern memchr=/home/finkernagel/.cache/cargo/target/debug/deps/libmemchr-ce879c287aae1239.rlib --extern num_traits=/home/finkernagel/.cache/cargo/target/debug/deps/libnum_traits-163a578cc7663ca5.rlib --extern strsim=/home/finkernagel/.cache/cargo/target/debug/deps/libstrsim-35e26dbaedb97986.rlib --extern toml_pretty_deser=/home/finkernagel/.cache/cargo/target/debug/deps/libtoml_pretty_deser-23ebeb13d54ac447.rlib --extern toml_pretty_deser_macros=/home/finkernagel/.cache/cargo/target/debug/deps/libtoml_pretty_deser_macros-f792c9db6a0b2842.so --extern toml_edit=/home/finkernagel/.cache/cargo/target/debug/deps/libtoml_edit-6ba341dc50ff9c99.rlib -C link-arg=-fuse-ld=mold`
warning: `toml-pretty-deser` (lib test) generated 1 warning (1 duplicate)
warning: unused variable: `errors`
   --> toml-pretty-deser/tests/basic.rs:535:41
    |
535 |     if let Err(DeserError::DeserFailure(errors, output)) = result {
    |                                         ^^^^^^ help: if this is intentional, prefix it with an underscore: `_errors`
    |
    = note: `#[warn(unused_variables)]` (part of `#[warn(unused)]`) on by default

warning: unused variable: `errors`
    --> toml-pretty-deser/tests/basic.rs:1076:41
     |
1076 |     if let Err(DeserError::DeserFailure(errors, output)) = result {
     |                                         ^^^^^^ help: if this is intentional, prefix it with an underscore: `_errors`

warning: `toml-pretty-deser` (test "basic") generated 2 warnings (run `cargo fix --test "basic" -p toml-pretty-deser` to apply 2 suggestions)
    Finished `test` profile [unoptimized + debuginfo] target(s) in 0.48s
  Executable `/home/finkernagel/.cache/cargo/target/debug/deps/toml_pretty_deser-07d9828939c75c69`
  Executable `/home/finkernagel/.cache/cargo/target/debug/deps/basic-c7883bdc8893c706`

*** result: Success

*** /nix/store/826jircl576xphx7a459njgqfmcbd4x5-cargo-1.95.0-nightly-2026-01-21-x86_64-unknown-linux-gnu/bin/cargo test --verbose --package=toml-pretty-deser@0.1.0
       Fresh unicode-ident v1.0.22
       Fresh proc-macro2 v1.0.106
       Fresh autocfg v1.5.0
       Fresh quote v1.0.44
       Fresh winnow v0.7.14
       Fresh equivalent v1.0.2
       Fresh hashbrown v0.16.1
       Fresh indexmap v2.13.0
       Fresh toml_parser v1.0.6+spec-1.1.0
       Fresh syn v2.0.114
       Fresh regex-automata v0.4.13
       Fresh memchr v2.7.6
       Fresh toml_writer v1.0.6+spec-1.1.0
       Fresh toml_datetime v0.7.5+spec-1.1.0
       Fresh toml_edit v0.24.0+spec-1.1.0
       Fresh bstr v1.12.1
       Fresh num-traits v0.2.19
       Fresh toml-pretty-deser-macros v0.1.0 (/tmp/nix-shell.fWA0aw/cargo-mutants-toml-pretty-deser-zBlI0F.tmp/toml-pretty-deser-macros)
       Fresh codesnake v0.2.1
       Fresh strsim v0.11.1
warning: field `allowed` is never read
   --> toml-pretty-deser/src/lib.rs:775:5
    |
767 | pub struct TomlHelper<'a> {
    |            ---------- field in this struct
...
775 |     allowed: HashMap<String, String>,
    |     ^^^^^^^
    |
    = note: `#[warn(dead_code)]` (part of `#[warn(unused)]`) on by default

warning: `toml-pretty-deser` (lib) generated 1 warning
warning: unused variable: `errors`
   --> toml-pretty-deser/tests/basic.rs:535:41
    |
535 |     if let Err(DeserError::DeserFailure(errors, output)) = result {
    |                                         ^^^^^^ help: if this is intentional, prefix it with an underscore: `_errors`
    |
    = note: `#[warn(unused_variables)]` (part of `#[warn(unused)]`) on by default

warning: unused variable: `errors`
    --> toml-pretty-deser/tests/basic.rs:1076:41
     |
1076 |     if let Err(DeserError::DeserFailure(errors, output)) = result {
     |                                         ^^^^^^ help: if this is intentional, prefix it with an underscore: `_errors`

warning: `toml-pretty-deser` (test "basic") generated 2 warnings (run `cargo fix --test "basic" -p toml-pretty-deser` to apply 2 suggestions)
       Fresh toml-pretty-deser v0.1.0 (/tmp/nix-shell.fWA0aw/cargo-mutants-toml-pretty-deser-zBlI0F.tmp/toml-pretty-deser)
warning: `toml-pretty-deser` (lib test) generated 1 warning (1 duplicate)
    Finished `test` profile [unoptimized + debuginfo] target(s) in 0.01s
     Running `/home/finkernagel/.cache/cargo/target/debug/deps/toml_pretty_deser-07d9828939c75c69`

running 2 tests
test tests::test_field_match_mode ... ok
test tests::test_normalize_no_case ... ok

test result: ok. 2 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

     Running `/home/finkernagel/.cache/cargo/target/debug/deps/basic-c7883bdc8893c706`

running 38 tests
test test_any_case_mode_camel ... FAILED
test test_alias_exact_mode_failure ... ok
test test_any_case_mode_shouty ... FAILED
test test_any_case_mode_train ... FAILED
test test_any_case_mode_kebab ... FAILED
test test_alias_with_any_case_mode ... FAILED
test test_alias_exact_mode ... FAILED
test test_any_case_mode_snake ... FAILED
test test_any_case_mode_unknown_key ... ok
test test_any_case_mode_upper_camel ... FAILED
test test_array_wrong_element_type ... ok
test test_complex_mixed_case_key_reused ... FAILED
test test_arrays ... FAILED
test test_complex_mixed_case ... FAILED
test test_enum_optional_missing ... FAILED
test test_arrays_with_optional ... FAILED
test test_enum_missing_required ... ok
test test_enum_happy_path ... FAILED
test test_enum_invalid_variant ... FAILED
test test_nested_with_alias ... FAILED
test test_nested_happy_half ... FAILED
test test_nested_with_any_case_mode ... FAILED
test test_nested_happy ... FAILED
test test_nested_lower_failure ... FAILED
test test_two_errors_pretty ... FAILED
test test_two_level_nested_missing_inner ... FAILED
test test_two_level_nested_inline_table ... FAILED
test test_two_level_nested_missing_inner_field ... FAILED
test test_optional_missing ... FAILED
test test_two_level_nested_happy ... FAILED
test test_two_level_nested_with_optional_nested ... FAILED
test test_upper_lower_mode ... FAILED
test test_vec_missing ... ok
test test_missing ... FAILED
test test_wrong_type ... FAILED
test test_happy_path ... FAILED
test test_validation_failure ... FAILED
test test_range_validation ... FAILED

failures:

---- test_any_case_mode_camel stdout ----
[toml-pretty-deser/tests/basic.rs:868:5] &result = Err(
    DeserFailure(
        [
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n        myField = 'camel case'\n        anotherField = 789\n    ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 9..16,
                            msg: "Unknown key: myField",
                        },
                    ],
                    help: Some(
                        "Did you mean: 'myfield' or 'anotherfield'?",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n        myField = 'camel case'\n        anotherField = 789\n    ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 40..52,
                            msg: "Unknown key: anotherField",
                        },
                    ],
                    help: Some(
                        "Did you mean: 'anotherfield' or 'myfield'?",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n        myField = 'camel case'\n        anotherField = 789\n    ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 19..31,
                            msg: "Key/alias conflict (defined multiple times)",
                        },
                    ],
                    help: Some(
                        "Use only one of the keys involved. Canonical is 'my_field'",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n        myField = 'camel case'\n        anotherField = 789\n    ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 55..58,
                            msg: "Key/alias conflict (defined multiple times)",
                        },
                    ],
                    help: Some(
                        "Use only one of the keys involved. Canonical is 'another_field'",
                    ),
                },
            },
        ],
        PartialCaseOutput {
            my_field: TomlValue {
                value: None,
                state: MultiDefined {
                    key: "my_field",
                    spans: [
                        19..31,
                    ],
                },
                required: true,
            },
            another_field: TomlValue {
                value: None,
                state: MultiDefined {
                    key: "another_field",
                    spans: [
                        55..58,
                    ],
                },
                required: true,
            },
        },
    ),
)

thread 'test_any_case_mode_camel' (2421198) panicked at toml-pretty-deser/tests/basic.rs:869:5:
assertion failed: result.is_ok()
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace

---- test_any_case_mode_shouty stdout ----
[toml-pretty-deser/tests/basic.rs:922:5] &result = Err(
    DeserFailure(
        [
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n        MY_FIELD = 'shouty'\n        ANOTHER_FIELD = 303\n    ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 9..17,
                            msg: "Unknown key: MY_FIELD",
                        },
                    ],
                    help: Some(
                        "Did you mean: 'myfield' or 'anotherfield'?",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n        MY_FIELD = 'shouty'\n        ANOTHER_FIELD = 303\n    ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 37..50,
                            msg: "Unknown key: ANOTHER_FIELD",
                        },
                    ],
                    help: Some(
                        "Did you mean: 'anotherfield' or 'myfield'?",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n        MY_FIELD = 'shouty'\n        ANOTHER_FIELD = 303\n    ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 20..28,
                            msg: "Key/alias conflict (defined multiple times)",
                        },
                    ],
                    help: Some(
                        "Use only one of the keys involved. Canonical is 'my_field'",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n        MY_FIELD = 'shouty'\n        ANOTHER_FIELD = 303\n    ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 53..56,
                            msg: "Key/alias conflict (defined multiple times)",
                        },
                    ],
                    help: Some(
                        "Use only one of the keys involved. Canonical is 'another_field'",
                    ),
                },
            },
        ],
        PartialCaseOutput {
            my_field: TomlValue {
                value: None,
                state: MultiDefined {
                    key: "my_field",
                    spans: [
                        20..28,
                    ],
                },
                required: true,
            },
            another_field: TomlValue {
                value: None,
                state: MultiDefined {
                    key: "another_field",
                    spans: [
                        53..56,
                    ],
                },
                required: true,
            },
        },
    ),
)

thread 'test_any_case_mode_shouty' (2421200) panicked at toml-pretty-deser/tests/basic.rs:923:5:
assertion failed: result.is_ok()

---- test_any_case_mode_train stdout ----
[toml-pretty-deser/tests/basic.rs:940:5] &result = Err(
    DeserFailure(
        [
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n        My-Field = 'train case'\n        Another-Field = 404\n    ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 9..17,
                            msg: "Unknown key: My-Field",
                        },
                    ],
                    help: Some(
                        "Did you mean: 'myfield' or 'anotherfield'?",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n        My-Field = 'train case'\n        Another-Field = 404\n    ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 41..54,
                            msg: "Unknown key: Another-Field",
                        },
                    ],
                    help: Some(
                        "Did you mean: 'anotherfield' or 'myfield'?",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n        My-Field = 'train case'\n        Another-Field = 404\n    ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 20..32,
                            msg: "Key/alias conflict (defined multiple times)",
                        },
                    ],
                    help: Some(
                        "Use only one of the keys involved. Canonical is 'my_field'",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n        My-Field = 'train case'\n        Another-Field = 404\n    ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 57..60,
                            msg: "Key/alias conflict (defined multiple times)",
                        },
                    ],
                    help: Some(
                        "Use only one of the keys involved. Canonical is 'another_field'",
                    ),
                },
            },
        ],
        PartialCaseOutput {
            my_field: TomlValue {
                value: None,
                state: MultiDefined {
                    key: "my_field",
                    spans: [
                        20..32,
                    ],
                },
                required: true,
            },
            another_field: TomlValue {
                value: None,
                state: MultiDefined {
                    key: "another_field",
                    spans: [
                        57..60,
                    ],
                },
                required: true,
            },
        },
    ),
)

thread 'test_any_case_mode_train' (2421202) panicked at toml-pretty-deser/tests/basic.rs:941:5:
assertion failed: result.is_ok()

---- test_any_case_mode_kebab stdout ----
[toml-pretty-deser/tests/basic.rs:886:5] &result = Err(
    DeserFailure(
        [
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n        my-field = 'kebab case'\n        another-field = 101\n    ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 9..17,
                            msg: "Unknown key: my-field",
                        },
                    ],
                    help: Some(
                        "Did you mean: 'myfield' or 'anotherfield'?",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n        my-field = 'kebab case'\n        another-field = 101\n    ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 41..54,
                            msg: "Unknown key: another-field",
                        },
                    ],
                    help: Some(
                        "Did you mean: 'anotherfield' or 'myfield'?",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n        my-field = 'kebab case'\n        another-field = 101\n    ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 20..32,
                            msg: "Key/alias conflict (defined multiple times)",
                        },
                    ],
                    help: Some(
                        "Use only one of the keys involved. Canonical is 'my_field'",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n        my-field = 'kebab case'\n        another-field = 101\n    ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 57..60,
                            msg: "Key/alias conflict (defined multiple times)",
                        },
                    ],
                    help: Some(
                        "Use only one of the keys involved. Canonical is 'another_field'",
                    ),
                },
            },
        ],
        PartialCaseOutput {
            my_field: TomlValue {
                value: None,
                state: MultiDefined {
                    key: "my_field",
                    spans: [
                        20..32,
                    ],
                },
                required: true,
            },
            another_field: TomlValue {
                value: None,
                state: MultiDefined {
                    key: "another_field",
                    spans: [
                        57..60,
                    ],
                },
                required: true,
            },
        },
    ),
)

thread 'test_any_case_mode_kebab' (2421199) panicked at toml-pretty-deser/tests/basic.rs:887:5:
assertion failed: result.is_ok()

---- test_alias_with_any_case_mode stdout ----
[toml-pretty-deser/tests/basic.rs:980:5] &result = Err(
    DeserFailure(
        [
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n        myName = 'alias match'\n        myValue = 111\n        regularField = 'case variant'\n    ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 9..15,
                            msg: "Unknown key: myName",
                        },
                    ],
                    help: Some(
                        "Did you mean: 'myname', 'myvalue', or 'alsoaname'?",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n        myName = 'alias match'\n        myValue = 111\n        regularField = 'case variant'\n    ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 40..47,
                            msg: "Unknown key: myValue",
                        },
                    ],
                    help: Some(
                        "Did you mean: 'myvalue', 'myname', or 'alsoaname'?",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n        myName = 'alias match'\n        myValue = 111\n        regularField = 'case variant'\n    ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 62..74,
                            msg: "Unknown key: regularField",
                        },
                    ],
                    help: Some(
                        "Did you mean: 'regularfield', 'myname', or 'myvalue'?",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n        myName = 'alias match'\n        myValue = 111\n        regularField = 'case variant'\n    ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 18..31,
                            msg: "Key/alias conflict (defined multiple times)",
                        },
                    ],
                    help: Some(
                        "Use only one of the keys involved. Canonical is 'my_name'",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n        myName = 'alias match'\n        myValue = 111\n        regularField = 'case variant'\n    ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 50..53,
                            msg: "Key/alias conflict (defined multiple times)",
                        },
                    ],
                    help: Some(
                        "Use only one of the keys involved. Canonical is 'my_value'",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n        myName = 'alias match'\n        myValue = 111\n        regularField = 'case variant'\n    ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 77..91,
                            msg: "Key/alias conflict (defined multiple times)",
                        },
                    ],
                    help: Some(
                        "Use only one of the keys involved. Canonical is 'regular_field'",
                    ),
                },
            },
        ],
        PartialAliasedOutput {
            my_name: TomlValue {
                value: None,
                state: MultiDefined {
                    key: "my_name",
                    spans: [
                        18..31,
                    ],
                },
                required: true,
            },
            my_value: TomlValue {
                value: None,
                state: MultiDefined {
                    key: "my_value",
                    spans: [
                        50..53,
                    ],
                },
                required: true,
            },
            regular_field: TomlValue {
                value: None,
                state: MultiDefined {
                    key: "regular_field",
                    spans: [
                        77..91,
                    ],
                },
                required: true,
            },
        },
    ),
)

thread 'test_alias_with_any_case_mode' (2421197) panicked at toml-pretty-deser/tests/basic.rs:981:5:
assertion failed: result.is_ok()

---- test_alias_exact_mode stdout ----
[toml-pretty-deser/tests/basic.rs:787:5] &result = Err(
    DeserFailure(
        [
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n        alsoAName = 'using alias'\n        myValue = 42\n        regular_field = 'no alias'\n    ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 9..18,
                            msg: "Unknown key: alsoAName",
                        },
                    ],
                    help: Some(
                        "Did you mean: 'alsoAName', 'my_name', or 'my_value'?",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n        alsoAName = 'using alias'\n        myValue = 42\n        regular_field = 'no alias'\n    ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 43..50,
                            msg: "Unknown key: myValue",
                        },
                    ],
                    help: Some(
                        "Did you mean: 'myValue', 'my_value', or 'my_name'?",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n        alsoAName = 'using alias'\n        myValue = 42\n        regular_field = 'no alias'\n    ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 64..77,
                            msg: "Unknown key: regular_field",
                        },
                    ],
                    help: Some(
                        "Did you mean: 'regular_field', 'my_name', or 'my_value'?",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n        alsoAName = 'using alias'\n        myValue = 42\n        regular_field = 'no alias'\n    ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 21..34,
                            msg: "Key/alias conflict (defined multiple times)",
                        },
                    ],
                    help: Some(
                        "Use only one of the keys involved. Canonical is 'my_name'",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n        alsoAName = 'using alias'\n        myValue = 42\n        regular_field = 'no alias'\n    ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 53..55,
                            msg: "Key/alias conflict (defined multiple times)",
                        },
                    ],
                    help: Some(
                        "Use only one of the keys involved. Canonical is 'my_value'",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n        alsoAName = 'using alias'\n        myValue = 42\n        regular_field = 'no alias'\n    ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 80..90,
                            msg: "Key/alias conflict (defined multiple times)",
                        },
                    ],
                    help: Some(
                        "Use only one of the keys involved. Canonical is 'regular_field'",
                    ),
                },
            },
        ],
        PartialAliasedOutput {
            my_name: TomlValue {
                value: None,
                state: MultiDefined {
                    key: "my_name",
                    spans: [
                        21..34,
                    ],
                },
                required: true,
            },
            my_value: TomlValue {
                value: None,
                state: MultiDefined {
                    key: "my_value",
                    spans: [
                        53..55,
                    ],
                },
                required: true,
            },
            regular_field: TomlValue {
                value: None,
                state: MultiDefined {
                    key: "regular_field",
                    spans: [
                        80..90,
                    ],
                },
                required: true,
            },
        },
    ),
)

thread 'test_alias_exact_mode' (2421195) panicked at toml-pretty-deser/tests/basic.rs:788:5:
assertion failed: result.is_ok()

---- test_any_case_mode_snake stdout ----
[toml-pretty-deser/tests/basic.rs:850:5] &result = Err(
    DeserFailure(
        [
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n        my_field = 'snake case'\n        another_field = 456\n    ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 9..17,
                            msg: "Unknown key: my_field",
                        },
                    ],
                    help: Some(
                        "Did you mean: 'myfield' or 'anotherfield'?",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n        my_field = 'snake case'\n        another_field = 456\n    ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 41..54,
                            msg: "Unknown key: another_field",
                        },
                    ],
                    help: Some(
                        "Did you mean: 'anotherfield' or 'myfield'?",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n        my_field = 'snake case'\n        another_field = 456\n    ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 20..32,
                            msg: "Key/alias conflict (defined multiple times)",
                        },
                    ],
                    help: Some(
                        "Use only one of the keys involved. Canonical is 'my_field'",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n        my_field = 'snake case'\n        another_field = 456\n    ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 57..60,
                            msg: "Key/alias conflict (defined multiple times)",
                        },
                    ],
                    help: Some(
                        "Use only one of the keys involved. Canonical is 'another_field'",
                    ),
                },
            },
        ],
        PartialCaseOutput {
            my_field: TomlValue {
                value: None,
                state: MultiDefined {
                    key: "my_field",
                    spans: [
                        20..32,
                    ],
                },
                required: true,
            },
            another_field: TomlValue {
                value: None,
                state: MultiDefined {
                    key: "another_field",
                    spans: [
                        57..60,
                    ],
                },
                required: true,
            },
        },
    ),
)

thread 'test_any_case_mode_snake' (2421201) panicked at toml-pretty-deser/tests/basic.rs:851:5:
assertion failed: result.is_ok()

---- test_any_case_mode_upper_camel stdout ----
[toml-pretty-deser/tests/basic.rs:904:5] &result = Err(
    DeserFailure(
        [
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n        MyField = 'upper camel'\n        AnotherField = 202\n    ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 9..16,
                            msg: "Unknown key: MyField",
                        },
                    ],
                    help: Some(
                        "Did you mean: 'myfield' or 'anotherfield'?",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n        MyField = 'upper camel'\n        AnotherField = 202\n    ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 41..53,
                            msg: "Unknown key: AnotherField",
                        },
                    ],
                    help: Some(
                        "Did you mean: 'anotherfield' or 'myfield'?",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n        MyField = 'upper camel'\n        AnotherField = 202\n    ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 19..32,
                            msg: "Key/alias conflict (defined multiple times)",
                        },
                    ],
                    help: Some(
                        "Use only one of the keys involved. Canonical is 'my_field'",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n        MyField = 'upper camel'\n        AnotherField = 202\n    ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 56..59,
                            msg: "Key/alias conflict (defined multiple times)",
                        },
                    ],
                    help: Some(
                        "Use only one of the keys involved. Canonical is 'another_field'",
                    ),
                },
            },
        ],
        PartialCaseOutput {
            my_field: TomlValue {
                value: None,
                state: MultiDefined {
                    key: "my_field",
                    spans: [
                        19..32,
                    ],
                },
                required: true,
            },
            another_field: TomlValue {
                value: None,
                state: MultiDefined {
                    key: "another_field",
                    spans: [
                        56..59,
                    ],
                },
                required: true,
            },
        },
    ),
)

thread 'test_any_case_mode_upper_camel' (2421204) panicked at toml-pretty-deser/tests/basic.rs:905:5:
assertion failed: result.is_ok()

---- test_complex_mixed_case_key_reused stdout ----
[toml-pretty-deser/tests/basic.rs:1075:5] &result = Err(
    DeserFailure(
        [
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n        API_KEY = 'shouty alias'\n        htmlparser= '23'\n        HTMLPARSER = 'consecutive caps'\n        api-key = 24\n        getHTTPResponse = 42\n    ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 9..16,
                            msg: "Unknown key: API_KEY",
                        },
                    ],
                    help: Some(
                        "Did you mean: 'apikey', 'htmlparser', or 'gethttpresponse'?",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n        API_KEY = 'shouty alias'\n        htmlparser= '23'\n        HTMLPARSER = 'consecutive caps'\n        api-key = 24\n        getHTTPResponse = 42\n    ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 42..52,
                            msg: "Unknown key: htmlparser",
                        },
                    ],
                    help: Some(
                        "Did you mean: 'htmlparser', 'apikey', or 'gethttpresponse'?",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n        API_KEY = 'shouty alias'\n        htmlparser= '23'\n        HTMLPARSER = 'consecutive caps'\n        api-key = 24\n        getHTTPResponse = 42\n    ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 67..77,
                            msg: "Unknown key: HTMLPARSER",
                        },
                    ],
                    help: Some(
                        "Did you mean: 'htmlparser', 'apikey', or 'gethttpresponse'?",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n        API_KEY = 'shouty alias'\n        htmlparser= '23'\n        HTMLPARSER = 'consecutive caps'\n        api-key = 24\n        getHTTPResponse = 42\n    ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 107..114,
                            msg: "Unknown key: api-key",
                        },
                    ],
                    help: Some(
                        "Did you mean: 'apikey', 'htmlparser', or 'gethttpresponse'?",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n        API_KEY = 'shouty alias'\n        htmlparser= '23'\n        HTMLPARSER = 'consecutive caps'\n        api-key = 24\n        getHTTPResponse = 42\n    ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 128..143,
                            msg: "Unknown key: getHTTPResponse",
                        },
                    ],
                    help: Some(
                        "Did you mean: 'gethttpresponse', 'htmlparser', or 'apikey'?",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n        API_KEY = 'shouty alias'\n        htmlparser= '23'\n        HTMLPARSER = 'consecutive caps'\n        api-key = 24\n        getHTTPResponse = 42\n    ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 19..33,
                            msg: "Key/alias conflict (defined multiple times)",
                        },
                        SpannedMessage {
                            span: 117..119,
                            msg: "Also defined here",
                        },
                    ],
                    help: Some(
                        "Use only one of the keys involved. Canonical is 'api_key'",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n        API_KEY = 'shouty alias'\n        htmlparser= '23'\n        HTMLPARSER = 'consecutive caps'\n        api-key = 24\n        getHTTPResponse = 42\n    ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 54..58,
                            msg: "Key/alias conflict (defined multiple times)",
                        },
                        SpannedMessage {
                            span: 80..98,
                            msg: "Also defined here",
                        },
                    ],
                    help: Some(
                        "Use only one of the keys involved. Canonical is 'html_parser'",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n        API_KEY = 'shouty alias'\n        htmlparser= '23'\n        HTMLPARSER = 'consecutive caps'\n        api-key = 24\n        getHTTPResponse = 42\n    ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 146..148,
                            msg: "Key/alias conflict (defined multiple times)",
                        },
                    ],
                    help: Some(
                        "Use only one of the keys involved. Canonical is 'get_http_response'",
                    ),
                },
            },
        ],
        PartialMixedCase {
            api_key: TomlValue {
                value: None,
                state: MultiDefined {
                    key: "api_key",
                    spans: [
                        19..33,
                        117..119,
                    ],
                },
                required: true,
            },
            html_parser: TomlValue {
                value: None,
                state: MultiDefined {
                    key: "html_parser",
                    spans: [
                        54..58,
                        80..98,
                    ],
                },
                required: true,
            },
            get_http_response: TomlValue {
                value: None,
                state: MultiDefined {
                    key: "get_http_response",
                    spans: [
                        146..148,
                    ],
                },
                required: true,
            },
        },
    ),
)

thread 'test_complex_mixed_case_key_reused' (2421209) panicked at toml-pretty-deser/tests/basic.rs:1079:55:
called `Option::unwrap()` on a `None` value

---- test_arrays stdout ----
[toml-pretty-deser/tests/basic.rs:245:5] &result = Err(
    DeserFailure(
        [
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            items = ['a', 'b', 'c']\n            numbers = [1, 2, 3, 4, 5]\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 13..18,
                            msg: "Unknown key: items",
                        },
                    ],
                    help: Some(
                        "Did you mean: 'items', 'opt_items', or 'numbers'?",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            items = ['a', 'b', 'c']\n            numbers = [1, 2, 3, 4, 5]\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 49..56,
                            msg: "Unknown key: numbers",
                        },
                    ],
                    help: Some(
                        "Did you mean: 'numbers', 'items', or 'opt_items'?",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            items = ['a', 'b', 'c']\n            numbers = [1, 2, 3, 4, 5]\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 21..36,
                            msg: "Key/alias conflict (defined multiple times)",
                        },
                    ],
                    help: Some(
                        "Use only one of the keys involved. Canonical is 'items'",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            items = ['a', 'b', 'c']\n            numbers = [1, 2, 3, 4, 5]\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 59..74,
                            msg: "Key/alias conflict (defined multiple times)",
                        },
                    ],
                    help: Some(
                        "Use only one of the keys involved. Canonical is 'numbers'",
                    ),
                },
            },
        ],
        PartialComplexOutput {
            items: TomlValue {
                value: None,
                state: MultiDefined {
                    key: "items",
                    spans: [
                        21..36,
                    ],
                },
                required: true,
            },
            numbers: TomlValue {
                value: None,
                state: MultiDefined {
                    key: "numbers",
                    spans: [
                        59..74,
                    ],
                },
                required: true,
            },
            opt_items: TomlValue {
                value: Some(
                    None,
                ),
                state: Ok {
                    span: 0..0,
                },
                required: false,
            },
        },
    ),
)

thread 'test_arrays' (2421206) panicked at toml-pretty-deser/tests/basic.rs:246:5:
assertion failed: result.is_ok()

---- test_complex_mixed_case stdout ----
[toml-pretty-deser/tests/basic.rs:1054:5] &result = Err(
    DeserFailure(
        [
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n        API_KEY = 'shouty alias'\n        HTMLPARSER = 'consecutive caps'\n        getHTTPResponse = 42\n    ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 9..16,
                            msg: "Unknown key: API_KEY",
                        },
                    ],
                    help: Some(
                        "Did you mean: 'apikey', 'htmlparser', or 'gethttpresponse'?",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n        API_KEY = 'shouty alias'\n        HTMLPARSER = 'consecutive caps'\n        getHTTPResponse = 42\n    ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 42..52,
                            msg: "Unknown key: HTMLPARSER",
                        },
                    ],
                    help: Some(
                        "Did you mean: 'htmlparser', 'apikey', or 'gethttpresponse'?",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n        API_KEY = 'shouty alias'\n        HTMLPARSER = 'consecutive caps'\n        getHTTPResponse = 42\n    ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 82..97,
                            msg: "Unknown key: getHTTPResponse",
                        },
                    ],
                    help: Some(
                        "Did you mean: 'gethttpresponse', 'htmlparser', or 'apikey'?",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n        API_KEY = 'shouty alias'\n        HTMLPARSER = 'consecutive caps'\n        getHTTPResponse = 42\n    ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 19..33,
                            msg: "Key/alias conflict (defined multiple times)",
                        },
                    ],
                    help: Some(
                        "Use only one of the keys involved. Canonical is 'api_key'",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n        API_KEY = 'shouty alias'\n        HTMLPARSER = 'consecutive caps'\n        getHTTPResponse = 42\n    ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 55..73,
                            msg: "Key/alias conflict (defined multiple times)",
                        },
                    ],
                    help: Some(
                        "Use only one of the keys involved. Canonical is 'html_parser'",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n        API_KEY = 'shouty alias'\n        HTMLPARSER = 'consecutive caps'\n        getHTTPResponse = 42\n    ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 100..102,
                            msg: "Key/alias conflict (defined multiple times)",
                        },
                    ],
                    help: Some(
                        "Use only one of the keys involved. Canonical is 'get_http_response'",
                    ),
                },
            },
        ],
        PartialMixedCase {
            api_key: TomlValue {
                value: None,
                state: MultiDefined {
                    key: "api_key",
                    spans: [
                        19..33,
                    ],
                },
                required: true,
            },
            html_parser: TomlValue {
                value: None,
                state: MultiDefined {
                    key: "html_parser",
                    spans: [
                        55..73,
                    ],
                },
                required: true,
            },
            get_http_response: TomlValue {
                value: None,
                state: MultiDefined {
                    key: "get_http_response",
                    spans: [
                        100..102,
                    ],
                },
                required: true,
            },
        },
    ),
)

thread 'test_complex_mixed_case' (2421208) panicked at toml-pretty-deser/tests/basic.rs:1055:5:
assertion failed: result.is_ok()

---- test_enum_optional_missing stdout ----
[toml-pretty-deser/tests/basic.rs:368:5] &result = Err(
    DeserFailure(
        [
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            an_enum = 'Four'\n            # opt_enum is missing\n            vec_enum = ['TwoThree']\n            # opt_vec_enum is missing\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 13..20,
                            msg: "Unknown key: an_enum",
                        },
                    ],
                    help: Some(
                        "Did you mean: 'an_enum', 'opt_enum', or 'vec_enum'?",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            an_enum = 'Four'\n            # opt_enum is missing\n            vec_enum = ['TwoThree']\n            # opt_vec_enum is missing\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 76..84,
                            msg: "Unknown key: vec_enum",
                        },
                    ],
                    help: Some(
                        "Did you mean: 'vec_enum', 'opt_enum', or 'an_enum'?",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            an_enum = 'Four'\n            # opt_enum is missing\n            vec_enum = ['TwoThree']\n            # opt_vec_enum is missing\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 23..29,
                            msg: "Key/alias conflict (defined multiple times)",
                        },
                    ],
                    help: Some(
                        "Use only one of the keys involved. Canonical is 'an_enum'",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            an_enum = 'Four'\n            # opt_enum is missing\n            vec_enum = ['TwoThree']\n            # opt_vec_enum is missing\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 87..99,
                            msg: "Key/alias conflict (defined multiple times)",
                        },
                    ],
                    help: Some(
                        "Use only one of the keys involved. Canonical is 'vec_enum'",
                    ),
                },
            },
        ],
        PartialEnumOutput {
            an_enum: TomlValue {
                value: None,
                state: MultiDefined {
                    key: "an_enum",
                    spans: [
                        23..29,
                    ],
                },
                required: true,
            },
            opt_enum: TomlValue {
                value: Some(
                    None,
                ),
                state: Ok {
                    span: 0..0,
                },
                required: false,
            },
            vec_enum: TomlValue {
                value: None,
                state: MultiDefined {
                    key: "vec_enum",
                    spans: [
                        87..99,
                    ],
                },
                required: true,
            },
            opt_vec_enum: TomlValue {
                value: Some(
                    None,
                ),
                state: Ok {
                    span: 0..0,
                },
                required: false,
            },
        },
    ),
)

thread 'test_enum_optional_missing' (2421213) panicked at toml-pretty-deser/tests/basic.rs:369:5:
assertion failed: result.is_ok()

---- test_arrays_with_optional stdout ----
[toml-pretty-deser/tests/basic.rs:263:5] &result = Err(
    DeserFailure(
        [
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            items = ['x', 'y']\n            numbers = [10, 20]\n            opt_items = ['optional', 'items']\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 13..18,
                            msg: "Unknown key: items",
                        },
                    ],
                    help: Some(
                        "Did you mean: 'items', 'opt_items', or 'numbers'?",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            items = ['x', 'y']\n            numbers = [10, 20]\n            opt_items = ['optional', 'items']\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 44..51,
                            msg: "Unknown key: numbers",
                        },
                    ],
                    help: Some(
                        "Did you mean: 'numbers', 'items', or 'opt_items'?",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            items = ['x', 'y']\n            numbers = [10, 20]\n            opt_items = ['optional', 'items']\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 75..84,
                            msg: "Unknown key: opt_items",
                        },
                    ],
                    help: Some(
                        "Did you mean: 'opt_items', 'items', or 'numbers'?",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            items = ['x', 'y']\n            numbers = [10, 20]\n            opt_items = ['optional', 'items']\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 21..31,
                            msg: "Key/alias conflict (defined multiple times)",
                        },
                    ],
                    help: Some(
                        "Use only one of the keys involved. Canonical is 'items'",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            items = ['x', 'y']\n            numbers = [10, 20]\n            opt_items = ['optional', 'items']\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 54..62,
                            msg: "Key/alias conflict (defined multiple times)",
                        },
                    ],
                    help: Some(
                        "Use only one of the keys involved. Canonical is 'numbers'",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            items = ['x', 'y']\n            numbers = [10, 20]\n            opt_items = ['optional', 'items']\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 87..108,
                            msg: "Key/alias conflict (defined multiple times)",
                        },
                    ],
                    help: Some(
                        "Use only one of the keys involved. Canonical is 'opt_items'",
                    ),
                },
            },
        ],
        PartialComplexOutput {
            items: TomlValue {
                value: None,
                state: MultiDefined {
                    key: "items",
                    spans: [
                        21..31,
                    ],
                },
                required: true,
            },
            numbers: TomlValue {
                value: None,
                state: MultiDefined {
                    key: "numbers",
                    spans: [
                        54..62,
                    ],
                },
                required: true,
            },
            opt_items: TomlValue {
                value: Some(
                    None,
                ),
                state: MultiDefined {
                    key: "opt_items",
                    spans: [
                        87..108,
                    ],
                },
                required: false,
            },
        },
    ),
)

thread 'test_arrays_with_optional' (2421207) panicked at toml-pretty-deser/tests/basic.rs:264:5:
assertion failed: result.is_ok()

---- test_enum_happy_path stdout ----
[toml-pretty-deser/tests/basic.rs:342:5] &result = Err(
    DeserFailure(
        [
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            an_enum = 'One'\n            opt_enum = 'TwoThree'\n            vec_enum = ['One', 'Four']\n            opt_vec_enum = ['TwoThree', 'One']\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 13..20,
                            msg: "Unknown key: an_enum",
                        },
                    ],
                    help: Some(
                        "Did you mean: 'an_enum', 'opt_enum', or 'vec_enum'?",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            an_enum = 'One'\n            opt_enum = 'TwoThree'\n            vec_enum = ['One', 'Four']\n            opt_vec_enum = ['TwoThree', 'One']\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 41..49,
                            msg: "Unknown key: opt_enum",
                        },
                    ],
                    help: Some(
                        "Did you mean: 'opt_enum', 'vec_enum', or 'an_enum'?",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            an_enum = 'One'\n            opt_enum = 'TwoThree'\n            vec_enum = ['One', 'Four']\n            opt_vec_enum = ['TwoThree', 'One']\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 75..83,
                            msg: "Unknown key: vec_enum",
                        },
                    ],
                    help: Some(
                        "Did you mean: 'vec_enum', 'opt_enum', or 'an_enum'?",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            an_enum = 'One'\n            opt_enum = 'TwoThree'\n            vec_enum = ['One', 'Four']\n            opt_vec_enum = ['TwoThree', 'One']\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 114..126,
                            msg: "Unknown key: opt_vec_enum",
                        },
                    ],
                    help: Some(
                        "Did you mean: 'opt_vec_enum', 'opt_enum', or 'vec_enum'?",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            an_enum = 'One'\n            opt_enum = 'TwoThree'\n            vec_enum = ['One', 'Four']\n            opt_vec_enum = ['TwoThree', 'One']\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 23..28,
                            msg: "Key/alias conflict (defined multiple times)",
                        },
                    ],
                    help: Some(
                        "Use only one of the keys involved. Canonical is 'an_enum'",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            an_enum = 'One'\n            opt_enum = 'TwoThree'\n            vec_enum = ['One', 'Four']\n            opt_vec_enum = ['TwoThree', 'One']\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 52..62,
                            msg: "Key/alias conflict (defined multiple times)",
                        },
                    ],
                    help: Some(
                        "Use only one of the keys involved. Canonical is 'opt_enum'",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            an_enum = 'One'\n            opt_enum = 'TwoThree'\n            vec_enum = ['One', 'Four']\n            opt_vec_enum = ['TwoThree', 'One']\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 86..101,
                            msg: "Key/alias conflict (defined multiple times)",
                        },
                    ],
                    help: Some(
                        "Use only one of the keys involved. Canonical is 'vec_enum'",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            an_enum = 'One'\n            opt_enum = 'TwoThree'\n            vec_enum = ['One', 'Four']\n            opt_vec_enum = ['TwoThree', 'One']\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 129..148,
                            msg: "Key/alias conflict (defined multiple times)",
                        },
                    ],
                    help: Some(
                        "Use only one of the keys involved. Canonical is 'opt_vec_enum'",
                    ),
                },
            },
        ],
        PartialEnumOutput {
            an_enum: TomlValue {
                value: None,
                state: MultiDefined {
                    key: "an_enum",
                    spans: [
                        23..28,
                    ],
                },
                required: true,
            },
            opt_enum: TomlValue {
                value: None,
                state: MultiDefined {
                    key: "opt_enum",
                    spans: [
                        52..62,
                    ],
                },
                required: false,
            },
            vec_enum: TomlValue {
                value: None,
                state: MultiDefined {
                    key: "vec_enum",
                    spans: [
                        86..101,
                    ],
                },
                required: true,
            },
            opt_vec_enum: TomlValue {
                value: None,
                state: MultiDefined {
                    key: "opt_vec_enum",
                    spans: [
                        129..148,
                    ],
                },
                required: false,
            },
        },
    ),
)

thread 'test_enum_happy_path' (2421210) panicked at toml-pretty-deser/tests/basic.rs:343:5:
assertion failed: result.is_ok()

---- test_enum_invalid_variant stdout ----
[toml-pretty-deser/tests/basic.rs:387:5] &result = Err(
    DeserFailure(
        [
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            an_enum = 'InvalidVariant'\n            vec_enum = ['One']\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 13..20,
                            msg: "Unknown key: an_enum",
                        },
                    ],
                    help: Some(
                        "Did you mean: 'an_enum', 'opt_enum', or 'vec_enum'?",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            an_enum = 'InvalidVariant'\n            vec_enum = ['One']\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 52..60,
                            msg: "Unknown key: vec_enum",
                        },
                    ],
                    help: Some(
                        "Did you mean: 'vec_enum', 'an_enum', or 'opt_enum'?",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            an_enum = 'InvalidVariant'\n            vec_enum = ['One']\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 23..39,
                            msg: "Key/alias conflict (defined multiple times)",
                        },
                    ],
                    help: Some(
                        "Use only one of the keys involved. Canonical is 'an_enum'",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            an_enum = 'InvalidVariant'\n            vec_enum = ['One']\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 63..70,
                            msg: "Key/alias conflict (defined multiple times)",
                        },
                    ],
                    help: Some(
                        "Use only one of the keys involved. Canonical is 'vec_enum'",
                    ),
                },
            },
        ],
        PartialEnumOutput {
            an_enum: TomlValue {
                value: None,
                state: MultiDefined {
                    key: "an_enum",
                    spans: [
                        23..39,
                    ],
                },
                required: true,
            },
            opt_enum: TomlValue {
                value: Some(
                    None,
                ),
                state: Ok {
                    span: 0..0,
                },
                required: false,
            },
            vec_enum: TomlValue {
                value: None,
                state: MultiDefined {
                    key: "vec_enum",
                    spans: [
                        63..70,
                    ],
                },
                required: true,
            },
            opt_vec_enum: TomlValue {
                value: Some(
                    None,
                ),
                state: Ok {
                    span: 0..0,
                },
                required: false,
            },
        },
    ),
)

thread 'test_enum_invalid_variant' (2421211) panicked at toml-pretty-deser/tests/basic.rs:389:9:
assertion failed: errors.iter().any(|e| e.inner.spans[0].msg.contains("Invalid enum variant"))

---- test_nested_with_alias stdout ----
[toml-pretty-deser/tests/basic.rs:1012:5] &result = Err(
    DeserFailure(
        [
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n        [nested]\n        some_other_name = 'aliased nested field'\n    ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 10..16,
                            msg: "Unknown key: nested",
                        },
                    ],
                    help: Some(
                        "Did you mean: 'nested'?",
                    ),
                },
            },
        ],
        PartialOuterAliased {
            nested: TomlValue {
                value: None,
                state: MultiDefined {
                    key: "nested",
                    spans: [
                        9..17,
                    ],
                },
                required: true,
            },
        },
    ),
)

thread 'test_nested_with_alias' (2421219) panicked at toml-pretty-deser/tests/basic.rs:1013:5:
assertion failed: result.is_ok()

---- test_nested_happy_half stdout ----
[toml-pretty-deser/tests/basic.rs:493:5] &result = Err(
    DeserFailure(
        [
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n        [nested]\n            name = 'a'\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 10..16,
                            msg: "Unknown key: nested",
                        },
                    ],
                    help: Some(
                        "Did you mean: 'nested', 'opt_nested', or 'vec_nested'?",
                    ),
                },
            },
        ],
        PartialOuter {
            nested: TomlValue {
                value: None,
                state: MultiDefined {
                    key: "nested",
                    spans: [
                        9..17,
                    ],
                },
                required: true,
            },
            inline_nested: TomlValue {
                value: None,
                state: Missing {
                    key: "inline_nested",
                    parent_span: 0..0,
                },
                required: true,
            },
            opt_nested: TomlValue {
                value: Some(
                    None,
                ),
                state: Ok {
                    span: 0..0,
                },
                required: false,
            },
            vec_nested: TomlValue {
                value: None,
                state: Missing {
                    key: "vec_nested",
                    parent_span: 0..0,
                },
                required: true,
            },
        },
    ),
)

thread 'test_nested_happy_half' (2421217) panicked at toml-pretty-deser/tests/basic.rs:496:43:
called `Option::unwrap()` on a `None` value

---- test_nested_with_any_case_mode stdout ----
[toml-pretty-deser/tests/basic.rs:1028:5] &result = Err(
    DeserFailure(
        [
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n        [nested]\n        NestedName = 'case variant in nested'\n    ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 10..16,
                            msg: "Unknown key: nested",
                        },
                    ],
                    help: Some(
                        "Did you mean: 'nested'?",
                    ),
                },
            },
        ],
        PartialOuterAliased {
            nested: TomlValue {
                value: None,
                state: MultiDefined {
                    key: "nested",
                    spans: [
                        9..17,
                    ],
                },
                required: true,
            },
        },
    ),
)

thread 'test_nested_with_any_case_mode' (2421220) panicked at toml-pretty-deser/tests/basic.rs:1029:5:
assertion failed: result.is_ok()

---- test_nested_happy stdout ----
[toml-pretty-deser/tests/basic.rs:468:5] &result = Err(
    DeserFailure(
        [
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n        inline_nested = {\n            name = 'd',\n            value = 4\n        }\n        [nested]\n            name = 'a'\n            value = 1\n\n        [opt_nested]\n            name = 'b'\n            value = 2\n\n        [[vec_nested]]\n            name = 'c1'\n            value = 31\n\n        [[vec_nested]]\n            name = 'c2'\n            value = 32\n\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 9..22,
                            msg: "Unknown key: inline_nested",
                        },
                    ],
                    help: Some(
                        "Did you mean: 'inline_nested', 'opt_nested', or 'vec_nested'?",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n        inline_nested = {\n            name = 'd',\n            value = 4\n        }\n        [nested]\n            name = 'a'\n            value = 1\n\n        [opt_nested]\n            name = 'b'\n            value = 2\n\n        [[vec_nested]]\n            name = 'c1'\n            value = 31\n\n        [[vec_nested]]\n            name = 'c2'\n            value = 32\n\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 92..98,
                            msg: "Unknown key: nested",
                        },
                    ],
                    help: Some(
                        "Did you mean: 'nested', 'opt_nested', or 'vec_nested'?",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n        inline_nested = {\n            name = 'd',\n            value = 4\n        }\n        [nested]\n            name = 'a'\n            value = 1\n\n        [opt_nested]\n            name = 'b'\n            value = 2\n\n        [[vec_nested]]\n            name = 'c1'\n            value = 31\n\n        [[vec_nested]]\n            name = 'c2'\n            value = 32\n\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 155..165,
                            msg: "Unknown key: opt_nested",
                        },
                    ],
                    help: Some(
                        "Did you mean: 'opt_nested', 'vec_nested', or 'nested'?",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n        inline_nested = {\n            name = 'd',\n            value = 4\n        }\n        [nested]\n            name = 'a'\n            value = 1\n\n        [opt_nested]\n            name = 'b'\n            value = 2\n\n        [[vec_nested]]\n            name = 'c1'\n            value = 31\n\n        [[vec_nested]]\n            name = 'c2'\n            value = 32\n\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 223..233,
                            msg: "Unknown key: vec_nested",
                        },
                    ],
                    help: Some(
                        "Did you mean: 'vec_nested', 'opt_nested', or 'nested'?",
                    ),
                },
            },
        ],
        PartialOuter {
            nested: TomlValue {
                value: None,
                state: MultiDefined {
                    key: "nested",
                    spans: [
                        91..99,
                    ],
                },
                required: true,
            },
            inline_nested: TomlValue {
                value: None,
                state: MultiDefined {
                    key: "inline_nested",
                    spans: [
                        25..82,
                    ],
                },
                required: true,
            },
            opt_nested: TomlValue {
                value: None,
                state: MultiDefined {
                    key: "opt_nested",
                    spans: [
                        154..166,
                    ],
                },
                required: false,
            },
            vec_nested: TomlValue {
                value: None,
                state: MultiDefined {
                    key: "vec_nested",
                    spans: [
                        221..306,
                    ],
                },
                required: true,
            },
        },
    ),
)

thread 'test_nested_happy' (2421216) panicked at toml-pretty-deser/tests/basic.rs:469:5:
assertion failed: result.is_ok()

---- test_nested_lower_failure stdout ----
[toml-pretty-deser/tests/basic.rs:534:5] &result = Err(
    DeserFailure(
        [
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n        inline_nested = {\n            name = 2,\n            value = 4\n        }\n        [nested]\n            name = 55\n            value = 1\n\n        [opt_nested]\n            name = 55\n            value = 2\n\n        [[vec_nested]]\n            name = 55\n            value = 31\n\n        [[vec_nested]]\n            name = 55\n            value = 32\n\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 9..22,
                            msg: "Unknown key: inline_nested",
                        },
                    ],
                    help: Some(
                        "Did you mean: 'inline_nested', 'opt_nested', or 'vec_nested'?",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n        inline_nested = {\n            name = 2,\n            value = 4\n        }\n        [nested]\n            name = 55\n            value = 1\n\n        [opt_nested]\n            name = 55\n            value = 2\n\n        [[vec_nested]]\n            name = 55\n            value = 31\n\n        [[vec_nested]]\n            name = 55\n            value = 32\n\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 90..96,
                            msg: "Unknown key: nested",
                        },
                    ],
                    help: Some(
                        "Did you mean: 'nested', 'opt_nested', or 'vec_nested'?",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n        inline_nested = {\n            name = 2,\n            value = 4\n        }\n        [nested]\n            name = 55\n            value = 1\n\n        [opt_nested]\n            name = 55\n            value = 2\n\n        [[vec_nested]]\n            name = 55\n            value = 31\n\n        [[vec_nested]]\n            name = 55\n            value = 32\n\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 152..162,
                            msg: "Unknown key: opt_nested",
                        },
                    ],
                    help: Some(
                        "Did you mean: 'opt_nested', 'vec_nested', or 'nested'?",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n        inline_nested = {\n            name = 2,\n            value = 4\n        }\n        [nested]\n            name = 55\n            value = 1\n\n        [opt_nested]\n            name = 55\n            value = 2\n\n        [[vec_nested]]\n            name = 55\n            value = 31\n\n        [[vec_nested]]\n            name = 55\n            value = 32\n\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 219..229,
                            msg: "Unknown key: vec_nested",
                        },
                    ],
                    help: Some(
                        "Did you mean: 'vec_nested', 'opt_nested', or 'nested'?",
                    ),
                },
            },
        ],
        PartialOuter {
            nested: TomlValue {
                value: None,
                state: MultiDefined {
                    key: "nested",
                    spans: [
                        89..97,
                    ],
                },
                required: true,
            },
            inline_nested: TomlValue {
                value: None,
                state: MultiDefined {
                    key: "inline_nested",
                    spans: [
                        25..80,
                    ],
                },
                required: true,
            },
            opt_nested: TomlValue {
                value: None,
                state: MultiDefined {
                    key: "opt_nested",
                    spans: [
                        151..163,
                    ],
                },
                required: false,
            },
            vec_nested: TomlValue {
                value: None,
                state: MultiDefined {
                    key: "vec_nested",
                    spans: [
                        217..300,
                    ],
                },
                required: true,
            },
        },
    ),
)

thread 'test_nested_lower_failure' (2421218) panicked at toml-pretty-deser/tests/basic.rs:541:18:
called `Option::unwrap()` on a `None` value

---- test_two_errors_pretty stdout ----
[toml-pretty-deser/tests/basic.rs:739:5] &result = Err(
    DeserFailure(
        [
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n        [level1]\n            name = 'l1'\n\n        [level1.level2]\n            other = 2\n            # missing data field\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 10..16,
                            msg: "Unknown key: level1",
                        },
                    ],
                    help: Some(
                        "Did you mean: 'level1' or 'opt_level1'?",
                    ),
                },
            },
        ],
        PartialRoot {
            level1: TomlValue {
                value: None,
                state: MultiDefined {
                    key: "level1",
                    spans: [
                        9..17,
                    ],
                },
                required: true,
            },
            opt_level1: TomlValue {
                value: Some(
                    None,
                ),
                state: Ok {
                    span: 0..0,
                },
                required: false,
            },
        },
    ),
)

thread 'test_two_errors_pretty' (2421223) panicked at toml-pretty-deser/tests/basic.rs:741:9:
assertion `left == right` failed
  left: 1
 right: 2

---- test_two_level_nested_missing_inner stdout ----
[toml-pretty-deser/tests/basic.rs:695:5] &result = Err(
    DeserFailure(
        [
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n        [level1]\n            name = 'l1'\n        # missing level1.level2\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 10..16,
                            msg: "Unknown key: level1",
                        },
                    ],
                    help: Some(
                        "Did you mean: 'level1' or 'opt_level1'?",
                    ),
                },
            },
        ],
        PartialRoot {
            level1: TomlValue {
                value: None,
                state: MultiDefined {
                    key: "level1",
                    spans: [
                        9..17,
                    ],
                },
                required: true,
            },
            opt_level1: TomlValue {
                value: Some(
                    None,
                ),
                state: Ok {
                    span: 0..0,
                },
                required: false,
            },
        },
    ),
)

thread 'test_two_level_nested_missing_inner' (2421226) panicked at toml-pretty-deser/tests/basic.rs:700:9:
Expected StillIncomplete due to missing level2 field

---- test_two_level_nested_inline_table stdout ----
[toml-pretty-deser/tests/basic.rs:672:5] &result = Err(
    DeserFailure(
        [
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n        level1 = {\n            name = 'inline_l1',\n            level2 = {\n                data = 'inline_l2'\n            },\n            opt_level2 = {\n                data = 'inline_opt_l2'\n            }\n        }\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 9..15,
                            msg: "Unknown key: level1",
                        },
                    ],
                    help: Some(
                        "Did you mean: 'level1' or 'opt_level1'?",
                    ),
                },
            },
        ],
        PartialRoot {
            level1: TomlValue {
                value: None,
                state: MultiDefined {
                    key: "level1",
                    spans: [
                        18..214,
                    ],
                },
                required: true,
            },
            opt_level1: TomlValue {
                value: Some(
                    None,
                ),
                state: Ok {
                    span: 0..0,
                },
                required: false,
            },
        },
    ),
)

thread 'test_two_level_nested_inline_table' (2421225) panicked at toml-pretty-deser/tests/basic.rs:673:5:
assertion failed: result.is_ok()

---- test_two_level_nested_missing_inner_field stdout ----
[toml-pretty-deser/tests/basic.rs:715:5] &result = Err(
    DeserFailure(
        [
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n        [level1]\n            name = 'l1'\n\n        [level1.level2]\n            # missing data field\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 10..16,
                            msg: "Unknown key: level1",
                        },
                    ],
                    help: Some(
                        "Did you mean: 'level1' or 'opt_level1'?",
                    ),
                },
            },
        ],
        PartialRoot {
            level1: TomlValue {
                value: None,
                state: MultiDefined {
                    key: "level1",
                    spans: [
                        9..17,
                    ],
                },
                required: true,
            },
            opt_level1: TomlValue {
                value: Some(
                    None,
                ),
                state: Ok {
                    span: 0..0,
                },
                required: false,
            },
        },
    ),
)

thread 'test_two_level_nested_missing_inner_field' (2421227) panicked at toml-pretty-deser/tests/basic.rs:717:9:
assertion failed: errors.iter().any(|e|
        e.inner.spans[0].msg.contains("Missing required key: data"))

---- test_optional_missing stdout ----
[toml-pretty-deser/tests/basic.rs:128:5] &result = Err(
    DeserFailure(
        [
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            a_u8 = 255\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            # opt_a_u8 is missing\n            # opt_a_i64 is missing\n            # opt_a_f64 is missing\n            # opt_a_string is missing\n            # opt_a_bool is missing\n\n            verified_i16 = 10\n            # defaulted_i16 is missing - should use default\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 13..17,
                            msg: "Unknown key: a_u8",
                        },
                    ],
                    help: Some(
                        "Did you mean: 'a_u8', 'a_i64', or 'a_f64'?",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            a_u8 = 255\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            # opt_a_u8 is missing\n            # opt_a_i64 is missing\n            # opt_a_f64 is missing\n            # opt_a_string is missing\n            # opt_a_bool is missing\n\n            verified_i16 = 10\n            # defaulted_i16 is missing - should use default\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 36..41,
                            msg: "Unknown key: a_i64",
                        },
                    ],
                    help: Some(
                        "Did you mean: 'a_i64', 'a_f64', or 'a_u8'?",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            a_u8 = 255\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            # opt_a_u8 is missing\n            # opt_a_i64 is missing\n            # opt_a_f64 is missing\n            # opt_a_string is missing\n            # opt_a_bool is missing\n\n            verified_i16 = 10\n            # defaulted_i16 is missing - should use default\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 61..66,
                            msg: "Unknown key: a_f64",
                        },
                    ],
                    help: Some(
                        "Did you mean: 'a_f64', 'a_i64', or 'a_u8'?",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            a_u8 = 255\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            # opt_a_u8 is missing\n            # opt_a_i64 is missing\n            # opt_a_f64 is missing\n            # opt_a_string is missing\n            # opt_a_bool is missing\n\n            verified_i16 = 10\n            # defaulted_i16 is missing - should use default\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 86..94,
                            msg: "Unknown key: a_string",
                        },
                    ],
                    help: Some(
                        "Did you mean: 'a_string', 'opt_a_string', or 'a_i64'?",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            a_u8 = 255\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            # opt_a_u8 is missing\n            # opt_a_i64 is missing\n            # opt_a_f64 is missing\n            # opt_a_string is missing\n            # opt_a_bool is missing\n\n            verified_i16 = 10\n            # defaulted_i16 is missing - should use default\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 125..131,
                            msg: "Unknown key: a_bool",
                        },
                    ],
                    help: Some(
                        "Did you mean: 'a_bool', 'a_u8', or 'a_i64'?",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            a_u8 = 255\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            # opt_a_u8 is missing\n            # opt_a_i64 is missing\n            # opt_a_f64 is missing\n            # opt_a_string is missing\n            # opt_a_bool is missing\n\n            verified_i16 = 10\n            # defaulted_i16 is missing - should use default\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 331..343,
                            msg: "Unknown key: verified_i16",
                        },
                    ],
                    help: Some(
                        "Did you mean: 'verified_i16', 'defaulted_i16', or 'opt_a_i64'?",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            a_u8 = 255\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            # opt_a_u8 is missing\n            # opt_a_i64 is missing\n            # opt_a_f64 is missing\n            # opt_a_string is missing\n            # opt_a_bool is missing\n\n            verified_i16 = 10\n            # defaulted_i16 is missing - should use default\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 20..23,
                            msg: "Key/alias conflict (defined multiple times)",
                        },
                    ],
                    help: Some(
                        "Use only one of the keys involved. Canonical is 'a_u8'",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            a_u8 = 255\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            # opt_a_u8 is missing\n            # opt_a_i64 is missing\n            # opt_a_f64 is missing\n            # opt_a_string is missing\n            # opt_a_bool is missing\n\n            verified_i16 = 10\n            # defaulted_i16 is missing - should use default\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 44..48,
                            msg: "Key/alias conflict (defined multiple times)",
                        },
                    ],
                    help: Some(
                        "Use only one of the keys involved. Canonical is 'a_i64'",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            a_u8 = 255\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            # opt_a_u8 is missing\n            # opt_a_i64 is missing\n            # opt_a_f64 is missing\n            # opt_a_string is missing\n            # opt_a_bool is missing\n\n            verified_i16 = 10\n            # defaulted_i16 is missing - should use default\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 69..73,
                            msg: "Key/alias conflict (defined multiple times)",
                        },
                    ],
                    help: Some(
                        "Use only one of the keys involved. Canonical is 'a_f64'",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            a_u8 = 255\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            # opt_a_u8 is missing\n            # opt_a_i64 is missing\n            # opt_a_f64 is missing\n            # opt_a_string is missing\n            # opt_a_bool is missing\n\n            verified_i16 = 10\n            # defaulted_i16 is missing - should use default\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 97..112,
                            msg: "Key/alias conflict (defined multiple times)",
                        },
                    ],
                    help: Some(
                        "Use only one of the keys involved. Canonical is 'a_string'",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            a_u8 = 255\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            # opt_a_u8 is missing\n            # opt_a_i64 is missing\n            # opt_a_f64 is missing\n            # opt_a_string is missing\n            # opt_a_bool is missing\n\n            verified_i16 = 10\n            # defaulted_i16 is missing - should use default\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 134..138,
                            msg: "Key/alias conflict (defined multiple times)",
                        },
                    ],
                    help: Some(
                        "Use only one of the keys involved. Canonical is 'a_bool'",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            a_u8 = 255\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            # opt_a_u8 is missing\n            # opt_a_i64 is missing\n            # opt_a_f64 is missing\n            # opt_a_string is missing\n            # opt_a_bool is missing\n\n            verified_i16 = 10\n            # defaulted_i16 is missing - should use default\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 346..348,
                            msg: "Key/alias conflict (defined multiple times)",
                        },
                    ],
                    help: Some(
                        "Use only one of the keys involved. Canonical is 'verified_i16'",
                    ),
                },
            },
        ],
        PartialOutput {
            a_u8: TomlValue {
                value: None,
                state: MultiDefined {
                    key: "a_u8",
                    spans: [
                        20..23,
                    ],
                },
                required: true,
            },
            a_i64: TomlValue {
                value: None,
                state: MultiDefined {
                    key: "a_i64",
                    spans: [
                        44..48,
                    ],
                },
                required: true,
            },
            a_f64: TomlValue {
                value: None,
                state: MultiDefined {
                    key: "a_f64",
                    spans: [
                        69..73,
                    ],
                },
                required: true,
            },
            a_string: TomlValue {
                value: None,
                state: MultiDefined {
                    key: "a_string",
                    spans: [
                        97..112,
                    ],
                },
                required: true,
            },
            a_bool: TomlValue {
                value: None,
                state: MultiDefined {
                    key: "a_bool",
                    spans: [
                        134..138,
                    ],
                },
                required: true,
            },
            opt_a_u8: TomlValue {
                value: Some(
                    None,
                ),
                state: Ok {
                    span: 0..0,
                },
                required: false,
            },
            opt_a_i64: TomlValue {
                value: Some(
                    None,
                ),
                state: Ok {
                    span: 0..0,
                },
                required: false,
            },
            opt_a_f64: TomlValue {
                value: Some(
                    None,
                ),
                state: Ok {
                    span: 0..0,
                },
                required: false,
            },
            opt_a_string: TomlValue {
                value: Some(
                    None,
                ),
                state: Ok {
                    span: 0..0,
                },
                required: false,
            },
            opt_a_bool: TomlValue {
                value: Some(
                    None,
                ),
                state: Ok {
                    span: 0..0,
                },
                required: false,
            },
            verified_i16: TomlValue {
                value: None,
                state: MultiDefined {
                    key: "verified_i16",
                    spans: [
                        346..348,
                    ],
                },
                required: true,
            },
            defaulted_i16: TomlValue {
                value: Some(
                    42,
                ),
                state: Ok {
                    span: 0..0,
                },
                required: false,
            },
        },
    ),
)

thread 'test_optional_missing' (2421221) panicked at toml-pretty-deser/tests/basic.rs:129:5:
assertion failed: result.is_ok()

---- test_two_level_nested_happy stdout ----
[toml-pretty-deser/tests/basic.rs:614:5] &result = Err(
    DeserFailure(
        [
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n        [level1]\n            name = 'level1_name'\n\n        [level1.level2]\n            data = 'level2_data'\n\n        [opt_level1]\n            name = 'opt_name'\n\n        [opt_level1.level2]\n            data = 'opt_level2_data'\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 10..16,
                            msg: "Unknown key: level1",
                        },
                    ],
                    help: Some(
                        "Did you mean: 'level1' or 'opt_level1'?",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n        [level1]\n            name = 'level1_name'\n\n        [level1.level2]\n            data = 'level2_data'\n\n        [opt_level1]\n            name = 'opt_name'\n\n        [opt_level1.level2]\n            data = 'opt_level2_data'\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 119..129,
                            msg: "Unknown key: opt_level1",
                        },
                    ],
                    help: Some(
                        "Did you mean: 'opt_level1' or 'level1'?",
                    ),
                },
            },
        ],
        PartialRoot {
            level1: TomlValue {
                value: None,
                state: MultiDefined {
                    key: "level1",
                    spans: [
                        9..17,
                    ],
                },
                required: true,
            },
            opt_level1: TomlValue {
                value: None,
                state: MultiDefined {
                    key: "opt_level1",
                    spans: [
                        118..130,
                    ],
                },
                required: false,
            },
        },
    ),
)

thread 'test_two_level_nested_happy' (2421224) panicked at toml-pretty-deser/tests/basic.rs:615:5:
assertion failed: result.is_ok()

---- test_two_level_nested_with_optional_nested stdout ----
[toml-pretty-deser/tests/basic.rs:643:5] &result = Err(
    DeserFailure(
        [
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n        [level1]\n            name = 'l1'\n\n        [level1.level2]\n            data = 'l2_data'\n\n        [level1.opt_level2]\n            data = 'opt_l2_data'\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 10..16,
                            msg: "Unknown key: level1",
                        },
                    ],
                    help: Some(
                        "Did you mean: 'level1' or 'opt_level1'?",
                    ),
                },
            },
        ],
        PartialRoot {
            level1: TomlValue {
                value: None,
                state: MultiDefined {
                    key: "level1",
                    spans: [
                        9..17,
                    ],
                },
                required: true,
            },
            opt_level1: TomlValue {
                value: Some(
                    None,
                ),
                state: Ok {
                    span: 0..0,
                },
                required: false,
            },
        },
    ),
)

thread 'test_two_level_nested_with_optional_nested' (2421228) panicked at toml-pretty-deser/tests/basic.rs:644:5:
assertion failed: result.is_ok()

---- test_upper_lower_mode stdout ----
[toml-pretty-deser/tests/basic.rs:832:5] &result = Err(
    DeserFailure(
        [
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n        MY_FIELD = 'upper case'\n        Another_Field = 123\n    ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 9..17,
                            msg: "Unknown key: MY_FIELD",
                        },
                    ],
                    help: Some(
                        "Did you mean: 'my_field' or 'another_field'?",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n        MY_FIELD = 'upper case'\n        Another_Field = 123\n    ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 41..54,
                            msg: "Unknown key: Another_Field",
                        },
                    ],
                    help: Some(
                        "Did you mean: 'another_field' or 'my_field'?",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n        MY_FIELD = 'upper case'\n        Another_Field = 123\n    ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 20..32,
                            msg: "Key/alias conflict (defined multiple times)",
                        },
                    ],
                    help: Some(
                        "Use only one of the keys involved. Canonical is 'my_field'",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n        MY_FIELD = 'upper case'\n        Another_Field = 123\n    ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 57..60,
                            msg: "Key/alias conflict (defined multiple times)",
                        },
                    ],
                    help: Some(
                        "Use only one of the keys involved. Canonical is 'another_field'",
                    ),
                },
            },
        ],
        PartialCaseOutput {
            my_field: TomlValue {
                value: None,
                state: MultiDefined {
                    key: "my_field",
                    spans: [
                        20..32,
                    ],
                },
                required: true,
            },
            another_field: TomlValue {
                value: None,
                state: MultiDefined {
                    key: "another_field",
                    spans: [
                        57..60,
                    ],
                },
                required: true,
            },
        },
    ),
)

thread 'test_upper_lower_mode' (2421229) panicked at toml-pretty-deser/tests/basic.rs:833:5:
assertion failed: result.is_ok()

---- test_missing stdout ----
[toml-pretty-deser/tests/basic.rs:97:5] &result = Err(
    DeserFailure(
        [
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            # a_u8 = 255\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            opt_a_u8 = 128\n            opt_a_i64 = -456\n            opt_a_f64 = 2.71\n            opt_a_string = 'Optional String'\n            opt_a_bool = false\n\n            verified_i16 = 10\n            defaulted_i16 = 100\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 38..43,
                            msg: "Unknown key: a_i64",
                        },
                    ],
                    help: Some(
                        "Did you mean: 'a_i64', 'a_f64', or 'a_u8'?",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            # a_u8 = 255\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            opt_a_u8 = 128\n            opt_a_i64 = -456\n            opt_a_f64 = 2.71\n            opt_a_string = 'Optional String'\n            opt_a_bool = false\n\n            verified_i16 = 10\n            defaulted_i16 = 100\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 63..68,
                            msg: "Unknown key: a_f64",
                        },
                    ],
                    help: Some(
                        "Did you mean: 'a_f64', 'a_i64', or 'a_u8'?",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            # a_u8 = 255\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            opt_a_u8 = 128\n            opt_a_i64 = -456\n            opt_a_f64 = 2.71\n            opt_a_string = 'Optional String'\n            opt_a_bool = false\n\n            verified_i16 = 10\n            defaulted_i16 = 100\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 88..96,
                            msg: "Unknown key: a_string",
                        },
                    ],
                    help: Some(
                        "Did you mean: 'a_string', 'opt_a_string', or 'a_i64'?",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            # a_u8 = 255\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            opt_a_u8 = 128\n            opt_a_i64 = -456\n            opt_a_f64 = 2.71\n            opt_a_string = 'Optional String'\n            opt_a_bool = false\n\n            verified_i16 = 10\n            defaulted_i16 = 100\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 127..133,
                            msg: "Unknown key: a_bool",
                        },
                    ],
                    help: Some(
                        "Did you mean: 'a_bool', 'opt_a_bool', or 'a_i64'?",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            # a_u8 = 255\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            opt_a_u8 = 128\n            opt_a_i64 = -456\n            opt_a_f64 = 2.71\n            opt_a_string = 'Optional String'\n            opt_a_bool = false\n\n            verified_i16 = 10\n            defaulted_i16 = 100\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 154..162,
                            msg: "Unknown key: opt_a_u8",
                        },
                    ],
                    help: Some(
                        "Did you mean: 'opt_a_u8', 'opt_a_i64', or 'opt_a_f64'?",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            # a_u8 = 255\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            opt_a_u8 = 128\n            opt_a_i64 = -456\n            opt_a_f64 = 2.71\n            opt_a_string = 'Optional String'\n            opt_a_bool = false\n\n            verified_i16 = 10\n            defaulted_i16 = 100\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 181..190,
                            msg: "Unknown key: opt_a_i64",
                        },
                    ],
                    help: Some(
                        "Did you mean: 'opt_a_i64', 'opt_a_f64', or 'opt_a_u8'?",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            # a_u8 = 255\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            opt_a_u8 = 128\n            opt_a_i64 = -456\n            opt_a_f64 = 2.71\n            opt_a_string = 'Optional String'\n            opt_a_bool = false\n\n            verified_i16 = 10\n            defaulted_i16 = 100\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 210..219,
                            msg: "Unknown key: opt_a_f64",
                        },
                    ],
                    help: Some(
                        "Did you mean: 'opt_a_f64', 'opt_a_i64', or 'opt_a_u8'?",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            # a_u8 = 255\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            opt_a_u8 = 128\n            opt_a_i64 = -456\n            opt_a_f64 = 2.71\n            opt_a_string = 'Optional String'\n            opt_a_bool = false\n\n            verified_i16 = 10\n            defaulted_i16 = 100\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 239..251,
                            msg: "Unknown key: opt_a_string",
                        },
                    ],
                    help: Some(
                        "Did you mean: 'opt_a_string', 'a_string', or 'opt_a_i64'?",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            # a_u8 = 255\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            opt_a_u8 = 128\n            opt_a_i64 = -456\n            opt_a_f64 = 2.71\n            opt_a_string = 'Optional String'\n            opt_a_bool = false\n\n            verified_i16 = 10\n            defaulted_i16 = 100\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 284..294,
                            msg: "Unknown key: opt_a_bool",
                        },
                    ],
                    help: Some(
                        "Did you mean: 'opt_a_bool', 'a_bool', or 'opt_a_i64'?",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            # a_u8 = 255\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            opt_a_u8 = 128\n            opt_a_i64 = -456\n            opt_a_f64 = 2.71\n            opt_a_string = 'Optional String'\n            opt_a_bool = false\n\n            verified_i16 = 10\n            defaulted_i16 = 100\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 316..328,
                            msg: "Unknown key: verified_i16",
                        },
                    ],
                    help: Some(
                        "Did you mean: 'verified_i16', 'defaulted_i16', or 'a_i64'?",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            # a_u8 = 255\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            opt_a_u8 = 128\n            opt_a_i64 = -456\n            opt_a_f64 = 2.71\n            opt_a_string = 'Optional String'\n            opt_a_bool = false\n\n            verified_i16 = 10\n            defaulted_i16 = 100\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 346..359,
                            msg: "Unknown key: defaulted_i16",
                        },
                    ],
                    help: Some(
                        "Did you mean: 'defaulted_i16', 'verified_i16', or 'a_i64'?",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            # a_u8 = 255\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            opt_a_u8 = 128\n            opt_a_i64 = -456\n            opt_a_f64 = 2.71\n            opt_a_string = 'Optional String'\n            opt_a_bool = false\n\n            verified_i16 = 10\n            defaulted_i16 = 100\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 0..0,
                            msg: "Missing required key: a_u8",
                        },
                    ],
                    help: Some(
                        "This key is required but was not found in the TOML document.",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            # a_u8 = 255\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            opt_a_u8 = 128\n            opt_a_i64 = -456\n            opt_a_f64 = 2.71\n            opt_a_string = 'Optional String'\n            opt_a_bool = false\n\n            verified_i16 = 10\n            defaulted_i16 = 100\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 46..50,
                            msg: "Key/alias conflict (defined multiple times)",
                        },
                    ],
                    help: Some(
                        "Use only one of the keys involved. Canonical is 'a_i64'",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            # a_u8 = 255\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            opt_a_u8 = 128\n            opt_a_i64 = -456\n            opt_a_f64 = 2.71\n            opt_a_string = 'Optional String'\n            opt_a_bool = false\n\n            verified_i16 = 10\n            defaulted_i16 = 100\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 71..75,
                            msg: "Key/alias conflict (defined multiple times)",
                        },
                    ],
                    help: Some(
                        "Use only one of the keys involved. Canonical is 'a_f64'",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            # a_u8 = 255\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            opt_a_u8 = 128\n            opt_a_i64 = -456\n            opt_a_f64 = 2.71\n            opt_a_string = 'Optional String'\n            opt_a_bool = false\n\n            verified_i16 = 10\n            defaulted_i16 = 100\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 99..114,
                            msg: "Key/alias conflict (defined multiple times)",
                        },
                    ],
                    help: Some(
                        "Use only one of the keys involved. Canonical is 'a_string'",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            # a_u8 = 255\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            opt_a_u8 = 128\n            opt_a_i64 = -456\n            opt_a_f64 = 2.71\n            opt_a_string = 'Optional String'\n            opt_a_bool = false\n\n            verified_i16 = 10\n            defaulted_i16 = 100\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 136..140,
                            msg: "Key/alias conflict (defined multiple times)",
                        },
                    ],
                    help: Some(
                        "Use only one of the keys involved. Canonical is 'a_bool'",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            # a_u8 = 255\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            opt_a_u8 = 128\n            opt_a_i64 = -456\n            opt_a_f64 = 2.71\n            opt_a_string = 'Optional String'\n            opt_a_bool = false\n\n            verified_i16 = 10\n            defaulted_i16 = 100\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 165..168,
                            msg: "Key/alias conflict (defined multiple times)",
                        },
                    ],
                    help: Some(
                        "Use only one of the keys involved. Canonical is 'opt_a_u8'",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            # a_u8 = 255\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            opt_a_u8 = 128\n            opt_a_i64 = -456\n            opt_a_f64 = 2.71\n            opt_a_string = 'Optional String'\n            opt_a_bool = false\n\n            verified_i16 = 10\n            defaulted_i16 = 100\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 193..197,
                            msg: "Key/alias conflict (defined multiple times)",
                        },
                    ],
                    help: Some(
                        "Use only one of the keys involved. Canonical is 'opt_a_i64'",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            # a_u8 = 255\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            opt_a_u8 = 128\n            opt_a_i64 = -456\n            opt_a_f64 = 2.71\n            opt_a_string = 'Optional String'\n            opt_a_bool = false\n\n            verified_i16 = 10\n            defaulted_i16 = 100\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 222..226,
                            msg: "Key/alias conflict (defined multiple times)",
                        },
                    ],
                    help: Some(
                        "Use only one of the keys involved. Canonical is 'opt_a_f64'",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            # a_u8 = 255\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            opt_a_u8 = 128\n            opt_a_i64 = -456\n            opt_a_f64 = 2.71\n            opt_a_string = 'Optional String'\n            opt_a_bool = false\n\n            verified_i16 = 10\n            defaulted_i16 = 100\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 254..271,
                            msg: "Key/alias conflict (defined multiple times)",
                        },
                    ],
                    help: Some(
                        "Use only one of the keys involved. Canonical is 'opt_a_string'",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            # a_u8 = 255\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            opt_a_u8 = 128\n            opt_a_i64 = -456\n            opt_a_f64 = 2.71\n            opt_a_string = 'Optional String'\n            opt_a_bool = false\n\n            verified_i16 = 10\n            defaulted_i16 = 100\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 297..302,
                            msg: "Key/alias conflict (defined multiple times)",
                        },
                    ],
                    help: Some(
                        "Use only one of the keys involved. Canonical is 'opt_a_bool'",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            # a_u8 = 255\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            opt_a_u8 = 128\n            opt_a_i64 = -456\n            opt_a_f64 = 2.71\n            opt_a_string = 'Optional String'\n            opt_a_bool = false\n\n            verified_i16 = 10\n            defaulted_i16 = 100\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 331..333,
                            msg: "Key/alias conflict (defined multiple times)",
                        },
                    ],
                    help: Some(
                        "Use only one of the keys involved. Canonical is 'verified_i16'",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            # a_u8 = 255\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            opt_a_u8 = 128\n            opt_a_i64 = -456\n            opt_a_f64 = 2.71\n            opt_a_string = 'Optional String'\n            opt_a_bool = false\n\n            verified_i16 = 10\n            defaulted_i16 = 100\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 362..365,
                            msg: "Key/alias conflict (defined multiple times)",
                        },
                    ],
                    help: Some(
                        "Use only one of the keys involved. Canonical is 'defaulted_i16'",
                    ),
                },
            },
        ],
        PartialOutput {
            a_u8: TomlValue {
                value: None,
                state: Missing {
                    key: "a_u8",
                    parent_span: 0..0,
                },
                required: true,
            },
            a_i64: TomlValue {
                value: None,
                state: MultiDefined {
                    key: "a_i64",
                    spans: [
                        46..50,
                    ],
                },
                required: true,
            },
            a_f64: TomlValue {
                value: None,
                state: MultiDefined {
                    key: "a_f64",
                    spans: [
                        71..75,
                    ],
                },
                required: true,
            },
            a_string: TomlValue {
                value: None,
                state: MultiDefined {
                    key: "a_string",
                    spans: [
                        99..114,
                    ],
                },
                required: true,
            },
            a_bool: TomlValue {
                value: None,
                state: MultiDefined {
                    key: "a_bool",
                    spans: [
                        136..140,
                    ],
                },
                required: true,
            },
            opt_a_u8: TomlValue {
                value: Some(
                    None,
                ),
                state: MultiDefined {
                    key: "opt_a_u8",
                    spans: [
                        165..168,
                    ],
                },
                required: false,
            },
            opt_a_i64: TomlValue {
                value: Some(
                    None,
                ),
                state: MultiDefined {
                    key: "opt_a_i64",
                    spans: [
                        193..197,
                    ],
                },
                required: false,
            },
            opt_a_f64: TomlValue {
                value: Some(
                    None,
                ),
                state: MultiDefined {
                    key: "opt_a_f64",
                    spans: [
                        222..226,
                    ],
                },
                required: false,
            },
            opt_a_string: TomlValue {
                value: Some(
                    None,
                ),
                state: MultiDefined {
                    key: "opt_a_string",
                    spans: [
                        254..271,
                    ],
                },
                required: false,
            },
            opt_a_bool: TomlValue {
                value: Some(
                    None,
                ),
                state: MultiDefined {
                    key: "opt_a_bool",
                    spans: [
                        297..302,
                    ],
                },
                required: false,
            },
            verified_i16: TomlValue {
                value: None,
                state: MultiDefined {
                    key: "verified_i16",
                    spans: [
                        331..333,
                    ],
                },
                required: true,
            },
            defaulted_i16: TomlValue {
                value: None,
                state: MultiDefined {
                    key: "defaulted_i16",
                    spans: [
                        362..365,
                    ],
                },
                required: true,
            },
        },
    ),
)

thread 'test_missing' (2421215) panicked at toml-pretty-deser/tests/basic.rs:100:9:
assertion `left == right` failed
  left: None
 right: Some(-123)

---- test_wrong_type stdout ----
[toml-pretty-deser/tests/basic.rs:190:5] &result = Err(
    DeserFailure(
        [
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            a_u8 = 'not a number'\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            opt_a_u8 = 128\n            opt_a_i64 = -456\n            opt_a_f64 = 2.71\n            opt_a_string = 'Optional String'\n            opt_a_bool = false\n\n            verified_i16 = 10\n            defaulted_i16 = 100\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 13..17,
                            msg: "Unknown key: a_u8",
                        },
                    ],
                    help: Some(
                        "Did you mean: 'a_u8', 'a_i64', or 'a_f64'?",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            a_u8 = 'not a number'\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            opt_a_u8 = 128\n            opt_a_i64 = -456\n            opt_a_f64 = 2.71\n            opt_a_string = 'Optional String'\n            opt_a_bool = false\n\n            verified_i16 = 10\n            defaulted_i16 = 100\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 47..52,
                            msg: "Unknown key: a_i64",
                        },
                    ],
                    help: Some(
                        "Did you mean: 'a_i64', 'a_f64', or 'a_u8'?",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            a_u8 = 'not a number'\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            opt_a_u8 = 128\n            opt_a_i64 = -456\n            opt_a_f64 = 2.71\n            opt_a_string = 'Optional String'\n            opt_a_bool = false\n\n            verified_i16 = 10\n            defaulted_i16 = 100\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 72..77,
                            msg: "Unknown key: a_f64",
                        },
                    ],
                    help: Some(
                        "Did you mean: 'a_f64', 'a_i64', or 'a_u8'?",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            a_u8 = 'not a number'\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            opt_a_u8 = 128\n            opt_a_i64 = -456\n            opt_a_f64 = 2.71\n            opt_a_string = 'Optional String'\n            opt_a_bool = false\n\n            verified_i16 = 10\n            defaulted_i16 = 100\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 97..105,
                            msg: "Unknown key: a_string",
                        },
                    ],
                    help: Some(
                        "Did you mean: 'a_string', 'opt_a_string', or 'a_i64'?",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            a_u8 = 'not a number'\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            opt_a_u8 = 128\n            opt_a_i64 = -456\n            opt_a_f64 = 2.71\n            opt_a_string = 'Optional String'\n            opt_a_bool = false\n\n            verified_i16 = 10\n            defaulted_i16 = 100\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 136..142,
                            msg: "Unknown key: a_bool",
                        },
                    ],
                    help: Some(
                        "Did you mean: 'a_bool', 'opt_a_bool', or 'a_i64'?",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            a_u8 = 'not a number'\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            opt_a_u8 = 128\n            opt_a_i64 = -456\n            opt_a_f64 = 2.71\n            opt_a_string = 'Optional String'\n            opt_a_bool = false\n\n            verified_i16 = 10\n            defaulted_i16 = 100\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 163..171,
                            msg: "Unknown key: opt_a_u8",
                        },
                    ],
                    help: Some(
                        "Did you mean: 'opt_a_u8', 'opt_a_f64', or 'opt_a_i64'?",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            a_u8 = 'not a number'\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            opt_a_u8 = 128\n            opt_a_i64 = -456\n            opt_a_f64 = 2.71\n            opt_a_string = 'Optional String'\n            opt_a_bool = false\n\n            verified_i16 = 10\n            defaulted_i16 = 100\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 190..199,
                            msg: "Unknown key: opt_a_i64",
                        },
                    ],
                    help: Some(
                        "Did you mean: 'opt_a_i64', 'opt_a_f64', or 'opt_a_u8'?",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            a_u8 = 'not a number'\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            opt_a_u8 = 128\n            opt_a_i64 = -456\n            opt_a_f64 = 2.71\n            opt_a_string = 'Optional String'\n            opt_a_bool = false\n\n            verified_i16 = 10\n            defaulted_i16 = 100\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 219..228,
                            msg: "Unknown key: opt_a_f64",
                        },
                    ],
                    help: Some(
                        "Did you mean: 'opt_a_f64', 'opt_a_i64', or 'opt_a_u8'?",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            a_u8 = 'not a number'\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            opt_a_u8 = 128\n            opt_a_i64 = -456\n            opt_a_f64 = 2.71\n            opt_a_string = 'Optional String'\n            opt_a_bool = false\n\n            verified_i16 = 10\n            defaulted_i16 = 100\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 248..260,
                            msg: "Unknown key: opt_a_string",
                        },
                    ],
                    help: Some(
                        "Did you mean: 'opt_a_string', 'a_string', or 'opt_a_i64'?",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            a_u8 = 'not a number'\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            opt_a_u8 = 128\n            opt_a_i64 = -456\n            opt_a_f64 = 2.71\n            opt_a_string = 'Optional String'\n            opt_a_bool = false\n\n            verified_i16 = 10\n            defaulted_i16 = 100\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 293..303,
                            msg: "Unknown key: opt_a_bool",
                        },
                    ],
                    help: Some(
                        "Did you mean: 'opt_a_bool', 'a_bool', or 'opt_a_f64'?",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            a_u8 = 'not a number'\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            opt_a_u8 = 128\n            opt_a_i64 = -456\n            opt_a_f64 = 2.71\n            opt_a_string = 'Optional String'\n            opt_a_bool = false\n\n            verified_i16 = 10\n            defaulted_i16 = 100\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 325..337,
                            msg: "Unknown key: verified_i16",
                        },
                    ],
                    help: Some(
                        "Did you mean: 'verified_i16', 'defaulted_i16', or 'a_i64'?",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            a_u8 = 'not a number'\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            opt_a_u8 = 128\n            opt_a_i64 = -456\n            opt_a_f64 = 2.71\n            opt_a_string = 'Optional String'\n            opt_a_bool = false\n\n            verified_i16 = 10\n            defaulted_i16 = 100\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 355..368,
                            msg: "Unknown key: defaulted_i16",
                        },
                    ],
                    help: Some(
                        "Did you mean: 'defaulted_i16', 'verified_i16', or 'a_string'?",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            a_u8 = 'not a number'\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            opt_a_u8 = 128\n            opt_a_i64 = -456\n            opt_a_f64 = 2.71\n            opt_a_string = 'Optional String'\n            opt_a_bool = false\n\n            verified_i16 = 10\n            defaulted_i16 = 100\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 20..34,
                            msg: "Key/alias conflict (defined multiple times)",
                        },
                    ],
                    help: Some(
                        "Use only one of the keys involved. Canonical is 'a_u8'",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            a_u8 = 'not a number'\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            opt_a_u8 = 128\n            opt_a_i64 = -456\n            opt_a_f64 = 2.71\n            opt_a_string = 'Optional String'\n            opt_a_bool = false\n\n            verified_i16 = 10\n            defaulted_i16 = 100\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 55..59,
                            msg: "Key/alias conflict (defined multiple times)",
                        },
                    ],
                    help: Some(
                        "Use only one of the keys involved. Canonical is 'a_i64'",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            a_u8 = 'not a number'\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            opt_a_u8 = 128\n            opt_a_i64 = -456\n            opt_a_f64 = 2.71\n            opt_a_string = 'Optional String'\n            opt_a_bool = false\n\n            verified_i16 = 10\n            defaulted_i16 = 100\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 80..84,
                            msg: "Key/alias conflict (defined multiple times)",
                        },
                    ],
                    help: Some(
                        "Use only one of the keys involved. Canonical is 'a_f64'",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            a_u8 = 'not a number'\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            opt_a_u8 = 128\n            opt_a_i64 = -456\n            opt_a_f64 = 2.71\n            opt_a_string = 'Optional String'\n            opt_a_bool = false\n\n            verified_i16 = 10\n            defaulted_i16 = 100\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 108..123,
                            msg: "Key/alias conflict (defined multiple times)",
                        },
                    ],
                    help: Some(
                        "Use only one of the keys involved. Canonical is 'a_string'",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            a_u8 = 'not a number'\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            opt_a_u8 = 128\n            opt_a_i64 = -456\n            opt_a_f64 = 2.71\n            opt_a_string = 'Optional String'\n            opt_a_bool = false\n\n            verified_i16 = 10\n            defaulted_i16 = 100\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 145..149,
                            msg: "Key/alias conflict (defined multiple times)",
                        },
                    ],
                    help: Some(
                        "Use only one of the keys involved. Canonical is 'a_bool'",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            a_u8 = 'not a number'\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            opt_a_u8 = 128\n            opt_a_i64 = -456\n            opt_a_f64 = 2.71\n            opt_a_string = 'Optional String'\n            opt_a_bool = false\n\n            verified_i16 = 10\n            defaulted_i16 = 100\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 174..177,
                            msg: "Key/alias conflict (defined multiple times)",
                        },
                    ],
                    help: Some(
                        "Use only one of the keys involved. Canonical is 'opt_a_u8'",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            a_u8 = 'not a number'\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            opt_a_u8 = 128\n            opt_a_i64 = -456\n            opt_a_f64 = 2.71\n            opt_a_string = 'Optional String'\n            opt_a_bool = false\n\n            verified_i16 = 10\n            defaulted_i16 = 100\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 202..206,
                            msg: "Key/alias conflict (defined multiple times)",
                        },
                    ],
                    help: Some(
                        "Use only one of the keys involved. Canonical is 'opt_a_i64'",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            a_u8 = 'not a number'\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            opt_a_u8 = 128\n            opt_a_i64 = -456\n            opt_a_f64 = 2.71\n            opt_a_string = 'Optional String'\n            opt_a_bool = false\n\n            verified_i16 = 10\n            defaulted_i16 = 100\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 231..235,
                            msg: "Key/alias conflict (defined multiple times)",
                        },
                    ],
                    help: Some(
                        "Use only one of the keys involved. Canonical is 'opt_a_f64'",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            a_u8 = 'not a number'\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            opt_a_u8 = 128\n            opt_a_i64 = -456\n            opt_a_f64 = 2.71\n            opt_a_string = 'Optional String'\n            opt_a_bool = false\n\n            verified_i16 = 10\n            defaulted_i16 = 100\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 263..280,
                            msg: "Key/alias conflict (defined multiple times)",
                        },
                    ],
                    help: Some(
                        "Use only one of the keys involved. Canonical is 'opt_a_string'",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            a_u8 = 'not a number'\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            opt_a_u8 = 128\n            opt_a_i64 = -456\n            opt_a_f64 = 2.71\n            opt_a_string = 'Optional String'\n            opt_a_bool = false\n\n            verified_i16 = 10\n            defaulted_i16 = 100\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 306..311,
                            msg: "Key/alias conflict (defined multiple times)",
                        },
                    ],
                    help: Some(
                        "Use only one of the keys involved. Canonical is 'opt_a_bool'",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            a_u8 = 'not a number'\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            opt_a_u8 = 128\n            opt_a_i64 = -456\n            opt_a_f64 = 2.71\n            opt_a_string = 'Optional String'\n            opt_a_bool = false\n\n            verified_i16 = 10\n            defaulted_i16 = 100\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 340..342,
                            msg: "Key/alias conflict (defined multiple times)",
                        },
                    ],
                    help: Some(
                        "Use only one of the keys involved. Canonical is 'verified_i16'",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            a_u8 = 'not a number'\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            opt_a_u8 = 128\n            opt_a_i64 = -456\n            opt_a_f64 = 2.71\n            opt_a_string = 'Optional String'\n            opt_a_bool = false\n\n            verified_i16 = 10\n            defaulted_i16 = 100\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 371..374,
                            msg: "Key/alias conflict (defined multiple times)",
                        },
                    ],
                    help: Some(
                        "Use only one of the keys involved. Canonical is 'defaulted_i16'",
                    ),
                },
            },
        ],
        PartialOutput {
            a_u8: TomlValue {
                value: None,
                state: MultiDefined {
                    key: "a_u8",
                    spans: [
                        20..34,
                    ],
                },
                required: true,
            },
            a_i64: TomlValue {
                value: None,
                state: MultiDefined {
                    key: "a_i64",
                    spans: [
                        55..59,
                    ],
                },
                required: true,
            },
            a_f64: TomlValue {
                value: None,
                state: MultiDefined {
                    key: "a_f64",
                    spans: [
                        80..84,
                    ],
                },
                required: true,
            },
            a_string: TomlValue {
                value: None,
                state: MultiDefined {
                    key: "a_string",
                    spans: [
                        108..123,
                    ],
                },
                required: true,
            },
            a_bool: TomlValue {
                value: None,
                state: MultiDefined {
                    key: "a_bool",
                    spans: [
                        145..149,
                    ],
                },
                required: true,
            },
            opt_a_u8: TomlValue {
                value: Some(
                    None,
                ),
                state: MultiDefined {
                    key: "opt_a_u8",
                    spans: [
                        174..177,
                    ],
                },
                required: false,
            },
            opt_a_i64: TomlValue {
                value: Some(
                    None,
                ),
                state: MultiDefined {
                    key: "opt_a_i64",
                    spans: [
                        202..206,
                    ],
                },
                required: false,
            },
            opt_a_f64: TomlValue {
                value: Some(
                    None,
                ),
                state: MultiDefined {
                    key: "opt_a_f64",
                    spans: [
                        231..235,
                    ],
                },
                required: false,
            },
            opt_a_string: TomlValue {
                value: Some(
                    None,
                ),
                state: MultiDefined {
                    key: "opt_a_string",
                    spans: [
                        263..280,
                    ],
                },
                required: false,
            },
            opt_a_bool: TomlValue {
                value: Some(
                    None,
                ),
                state: MultiDefined {
                    key: "opt_a_bool",
                    spans: [
                        306..311,
                    ],
                },
                required: false,
            },
            verified_i16: TomlValue {
                value: None,
                state: MultiDefined {
                    key: "verified_i16",
                    spans: [
                        340..342,
                    ],
                },
                required: true,
            },
            defaulted_i16: TomlValue {
                value: None,
                state: MultiDefined {
                    key: "defaulted_i16",
                    spans: [
                        371..374,
                    ],
                },
                required: true,
            },
        },
    ),
)

thread 'test_wrong_type' (2421232) panicked at toml-pretty-deser/tests/basic.rs:192:9:
assertion `left == right` failed
  left: 24
 right: 1

---- test_happy_path stdout ----
[toml-pretty-deser/tests/basic.rs:59:5] &result = Err(
    DeserFailure(
        [
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            a_u8 = 255\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            opt_a_u8 = 128\n            opt_a_i64 = -456\n            opt_a_f64 = 2.71\n            opt_a_string = 'Optional String'\n            opt_a_bool = false\n\n            verified_i16 = 10\n            defaulted_i16 = 100\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 13..17,
                            msg: "Unknown key: a_u8",
                        },
                    ],
                    help: Some(
                        "Did you mean: 'a_u8', 'a_f64', or 'a_i64'?",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            a_u8 = 255\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            opt_a_u8 = 128\n            opt_a_i64 = -456\n            opt_a_f64 = 2.71\n            opt_a_string = 'Optional String'\n            opt_a_bool = false\n\n            verified_i16 = 10\n            defaulted_i16 = 100\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 36..41,
                            msg: "Unknown key: a_i64",
                        },
                    ],
                    help: Some(
                        "Did you mean: 'a_i64', 'a_f64', or 'a_u8'?",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            a_u8 = 255\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            opt_a_u8 = 128\n            opt_a_i64 = -456\n            opt_a_f64 = 2.71\n            opt_a_string = 'Optional String'\n            opt_a_bool = false\n\n            verified_i16 = 10\n            defaulted_i16 = 100\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 61..66,
                            msg: "Unknown key: a_f64",
                        },
                    ],
                    help: Some(
                        "Did you mean: 'a_f64', 'a_i64', or 'a_u8'?",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            a_u8 = 255\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            opt_a_u8 = 128\n            opt_a_i64 = -456\n            opt_a_f64 = 2.71\n            opt_a_string = 'Optional String'\n            opt_a_bool = false\n\n            verified_i16 = 10\n            defaulted_i16 = 100\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 86..94,
                            msg: "Unknown key: a_string",
                        },
                    ],
                    help: Some(
                        "Did you mean: 'a_string', 'opt_a_string', or 'a_i64'?",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            a_u8 = 255\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            opt_a_u8 = 128\n            opt_a_i64 = -456\n            opt_a_f64 = 2.71\n            opt_a_string = 'Optional String'\n            opt_a_bool = false\n\n            verified_i16 = 10\n            defaulted_i16 = 100\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 125..131,
                            msg: "Unknown key: a_bool",
                        },
                    ],
                    help: Some(
                        "Did you mean: 'a_bool', 'a_u8', or 'opt_a_bool'?",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            a_u8 = 255\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            opt_a_u8 = 128\n            opt_a_i64 = -456\n            opt_a_f64 = 2.71\n            opt_a_string = 'Optional String'\n            opt_a_bool = false\n\n            verified_i16 = 10\n            defaulted_i16 = 100\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 152..160,
                            msg: "Unknown key: opt_a_u8",
                        },
                    ],
                    help: Some(
                        "Did you mean: 'opt_a_u8', 'opt_a_i64', or 'opt_a_f64'?",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            a_u8 = 255\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            opt_a_u8 = 128\n            opt_a_i64 = -456\n            opt_a_f64 = 2.71\n            opt_a_string = 'Optional String'\n            opt_a_bool = false\n\n            verified_i16 = 10\n            defaulted_i16 = 100\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 179..188,
                            msg: "Unknown key: opt_a_i64",
                        },
                    ],
                    help: Some(
                        "Did you mean: 'opt_a_i64', 'opt_a_f64', or 'opt_a_u8'?",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            a_u8 = 255\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            opt_a_u8 = 128\n            opt_a_i64 = -456\n            opt_a_f64 = 2.71\n            opt_a_string = 'Optional String'\n            opt_a_bool = false\n\n            verified_i16 = 10\n            defaulted_i16 = 100\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 208..217,
                            msg: "Unknown key: opt_a_f64",
                        },
                    ],
                    help: Some(
                        "Did you mean: 'opt_a_f64', 'opt_a_i64', or 'opt_a_u8'?",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            a_u8 = 255\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            opt_a_u8 = 128\n            opt_a_i64 = -456\n            opt_a_f64 = 2.71\n            opt_a_string = 'Optional String'\n            opt_a_bool = false\n\n            verified_i16 = 10\n            defaulted_i16 = 100\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 237..249,
                            msg: "Unknown key: opt_a_string",
                        },
                    ],
                    help: Some(
                        "Did you mean: 'opt_a_string', 'a_string', or 'opt_a_i64'?",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            a_u8 = 255\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            opt_a_u8 = 128\n            opt_a_i64 = -456\n            opt_a_f64 = 2.71\n            opt_a_string = 'Optional String'\n            opt_a_bool = false\n\n            verified_i16 = 10\n            defaulted_i16 = 100\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 282..292,
                            msg: "Unknown key: opt_a_bool",
                        },
                    ],
                    help: Some(
                        "Did you mean: 'opt_a_bool', 'opt_a_u8', or 'opt_a_i64'?",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            a_u8 = 255\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            opt_a_u8 = 128\n            opt_a_i64 = -456\n            opt_a_f64 = 2.71\n            opt_a_string = 'Optional String'\n            opt_a_bool = false\n\n            verified_i16 = 10\n            defaulted_i16 = 100\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 314..326,
                            msg: "Unknown key: verified_i16",
                        },
                    ],
                    help: Some(
                        "Did you mean: 'verified_i16', 'defaulted_i16', or 'opt_a_i64'?",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            a_u8 = 255\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            opt_a_u8 = 128\n            opt_a_i64 = -456\n            opt_a_f64 = 2.71\n            opt_a_string = 'Optional String'\n            opt_a_bool = false\n\n            verified_i16 = 10\n            defaulted_i16 = 100\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 344..357,
                            msg: "Unknown key: defaulted_i16",
                        },
                    ],
                    help: Some(
                        "Did you mean: 'defaulted_i16', 'verified_i16', or 'a_string'?",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            a_u8 = 255\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            opt_a_u8 = 128\n            opt_a_i64 = -456\n            opt_a_f64 = 2.71\n            opt_a_string = 'Optional String'\n            opt_a_bool = false\n\n            verified_i16 = 10\n            defaulted_i16 = 100\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 20..23,
                            msg: "Key/alias conflict (defined multiple times)",
                        },
                    ],
                    help: Some(
                        "Use only one of the keys involved. Canonical is 'a_u8'",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            a_u8 = 255\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            opt_a_u8 = 128\n            opt_a_i64 = -456\n            opt_a_f64 = 2.71\n            opt_a_string = 'Optional String'\n            opt_a_bool = false\n\n            verified_i16 = 10\n            defaulted_i16 = 100\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 44..48,
                            msg: "Key/alias conflict (defined multiple times)",
                        },
                    ],
                    help: Some(
                        "Use only one of the keys involved. Canonical is 'a_i64'",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            a_u8 = 255\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            opt_a_u8 = 128\n            opt_a_i64 = -456\n            opt_a_f64 = 2.71\n            opt_a_string = 'Optional String'\n            opt_a_bool = false\n\n            verified_i16 = 10\n            defaulted_i16 = 100\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 69..73,
                            msg: "Key/alias conflict (defined multiple times)",
                        },
                    ],
                    help: Some(
                        "Use only one of the keys involved. Canonical is 'a_f64'",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            a_u8 = 255\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            opt_a_u8 = 128\n            opt_a_i64 = -456\n            opt_a_f64 = 2.71\n            opt_a_string = 'Optional String'\n            opt_a_bool = false\n\n            verified_i16 = 10\n            defaulted_i16 = 100\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 97..112,
                            msg: "Key/alias conflict (defined multiple times)",
                        },
                    ],
                    help: Some(
                        "Use only one of the keys involved. Canonical is 'a_string'",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            a_u8 = 255\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            opt_a_u8 = 128\n            opt_a_i64 = -456\n            opt_a_f64 = 2.71\n            opt_a_string = 'Optional String'\n            opt_a_bool = false\n\n            verified_i16 = 10\n            defaulted_i16 = 100\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 134..138,
                            msg: "Key/alias conflict (defined multiple times)",
                        },
                    ],
                    help: Some(
                        "Use only one of the keys involved. Canonical is 'a_bool'",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            a_u8 = 255\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            opt_a_u8 = 128\n            opt_a_i64 = -456\n            opt_a_f64 = 2.71\n            opt_a_string = 'Optional String'\n            opt_a_bool = false\n\n            verified_i16 = 10\n            defaulted_i16 = 100\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 163..166,
                            msg: "Key/alias conflict (defined multiple times)",
                        },
                    ],
                    help: Some(
                        "Use only one of the keys involved. Canonical is 'opt_a_u8'",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            a_u8 = 255\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            opt_a_u8 = 128\n            opt_a_i64 = -456\n            opt_a_f64 = 2.71\n            opt_a_string = 'Optional String'\n            opt_a_bool = false\n\n            verified_i16 = 10\n            defaulted_i16 = 100\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 191..195,
                            msg: "Key/alias conflict (defined multiple times)",
                        },
                    ],
                    help: Some(
                        "Use only one of the keys involved. Canonical is 'opt_a_i64'",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            a_u8 = 255\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            opt_a_u8 = 128\n            opt_a_i64 = -456\n            opt_a_f64 = 2.71\n            opt_a_string = 'Optional String'\n            opt_a_bool = false\n\n            verified_i16 = 10\n            defaulted_i16 = 100\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 220..224,
                            msg: "Key/alias conflict (defined multiple times)",
                        },
                    ],
                    help: Some(
                        "Use only one of the keys involved. Canonical is 'opt_a_f64'",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            a_u8 = 255\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            opt_a_u8 = 128\n            opt_a_i64 = -456\n            opt_a_f64 = 2.71\n            opt_a_string = 'Optional String'\n            opt_a_bool = false\n\n            verified_i16 = 10\n            defaulted_i16 = 100\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 252..269,
                            msg: "Key/alias conflict (defined multiple times)",
                        },
                    ],
                    help: Some(
                        "Use only one of the keys involved. Canonical is 'opt_a_string'",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            a_u8 = 255\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            opt_a_u8 = 128\n            opt_a_i64 = -456\n            opt_a_f64 = 2.71\n            opt_a_string = 'Optional String'\n            opt_a_bool = false\n\n            verified_i16 = 10\n            defaulted_i16 = 100\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 295..300,
                            msg: "Key/alias conflict (defined multiple times)",
                        },
                    ],
                    help: Some(
                        "Use only one of the keys involved. Canonical is 'opt_a_bool'",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            a_u8 = 255\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            opt_a_u8 = 128\n            opt_a_i64 = -456\n            opt_a_f64 = 2.71\n            opt_a_string = 'Optional String'\n            opt_a_bool = false\n\n            verified_i16 = 10\n            defaulted_i16 = 100\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 329..331,
                            msg: "Key/alias conflict (defined multiple times)",
                        },
                    ],
                    help: Some(
                        "Use only one of the keys involved. Canonical is 'verified_i16'",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            a_u8 = 255\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            opt_a_u8 = 128\n            opt_a_i64 = -456\n            opt_a_f64 = 2.71\n            opt_a_string = 'Optional String'\n            opt_a_bool = false\n\n            verified_i16 = 10\n            defaulted_i16 = 100\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 360..363,
                            msg: "Key/alias conflict (defined multiple times)",
                        },
                    ],
                    help: Some(
                        "Use only one of the keys involved. Canonical is 'defaulted_i16'",
                    ),
                },
            },
        ],
        PartialOutput {
            a_u8: TomlValue {
                value: None,
                state: MultiDefined {
                    key: "a_u8",
                    spans: [
                        20..23,
                    ],
                },
                required: true,
            },
            a_i64: TomlValue {
                value: None,
                state: MultiDefined {
                    key: "a_i64",
                    spans: [
                        44..48,
                    ],
                },
                required: true,
            },
            a_f64: TomlValue {
                value: None,
                state: MultiDefined {
                    key: "a_f64",
                    spans: [
                        69..73,
                    ],
                },
                required: true,
            },
            a_string: TomlValue {
                value: None,
                state: MultiDefined {
                    key: "a_string",
                    spans: [
                        97..112,
                    ],
                },
                required: true,
            },
            a_bool: TomlValue {
                value: None,
                state: MultiDefined {
                    key: "a_bool",
                    spans: [
                        134..138,
                    ],
                },
                required: true,
            },
            opt_a_u8: TomlValue {
                value: Some(
                    None,
                ),
                state: MultiDefined {
                    key: "opt_a_u8",
                    spans: [
                        163..166,
                    ],
                },
                required: false,
            },
            opt_a_i64: TomlValue {
                value: Some(
                    None,
                ),
                state: MultiDefined {
                    key: "opt_a_i64",
                    spans: [
                        191..195,
                    ],
                },
                required: false,
            },
            opt_a_f64: TomlValue {
                value: Some(
                    None,
                ),
                state: MultiDefined {
                    key: "opt_a_f64",
                    spans: [
                        220..224,
                    ],
                },
                required: false,
            },
            opt_a_string: TomlValue {
                value: Some(
                    None,
                ),
                state: MultiDefined {
                    key: "opt_a_string",
                    spans: [
                        252..269,
                    ],
                },
                required: false,
            },
            opt_a_bool: TomlValue {
                value: Some(
                    None,
                ),
                state: MultiDefined {
                    key: "opt_a_bool",
                    spans: [
                        295..300,
                    ],
                },
                required: false,
            },
            verified_i16: TomlValue {
                value: None,
                state: MultiDefined {
                    key: "verified_i16",
                    spans: [
                        329..331,
                    ],
                },
                required: true,
            },
            defaulted_i16: TomlValue {
                value: None,
                state: MultiDefined {
                    key: "defaulted_i16",
                    spans: [
                        360..363,
                    ],
                },
                required: true,
            },
        },
    ),
)

thread 'test_happy_path' (2421214) panicked at toml-pretty-deser/tests/basic.rs:60:5:
assertion failed: result.is_ok()

---- test_validation_failure stdout ----
[toml-pretty-deser/tests/basic.rs:161:5] &result = Err(
    DeserFailure(
        [
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            a_u8 = 255\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            opt_a_u8 = 128\n            opt_a_i64 = -456\n            opt_a_f64 = 2.71\n            opt_a_string = 'Optional String'\n            opt_a_bool = false\n\n            verified_i16 = 3\n            defaulted_i16 = 100\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 13..17,
                            msg: "Unknown key: a_u8",
                        },
                    ],
                    help: Some(
                        "Did you mean: 'a_u8', 'a_f64', or 'a_i64'?",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            a_u8 = 255\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            opt_a_u8 = 128\n            opt_a_i64 = -456\n            opt_a_f64 = 2.71\n            opt_a_string = 'Optional String'\n            opt_a_bool = false\n\n            verified_i16 = 3\n            defaulted_i16 = 100\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 36..41,
                            msg: "Unknown key: a_i64",
                        },
                    ],
                    help: Some(
                        "Did you mean: 'a_i64', 'a_f64', or 'a_u8'?",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            a_u8 = 255\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            opt_a_u8 = 128\n            opt_a_i64 = -456\n            opt_a_f64 = 2.71\n            opt_a_string = 'Optional String'\n            opt_a_bool = false\n\n            verified_i16 = 3\n            defaulted_i16 = 100\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 61..66,
                            msg: "Unknown key: a_f64",
                        },
                    ],
                    help: Some(
                        "Did you mean: 'a_f64', 'a_i64', or 'a_u8'?",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            a_u8 = 255\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            opt_a_u8 = 128\n            opt_a_i64 = -456\n            opt_a_f64 = 2.71\n            opt_a_string = 'Optional String'\n            opt_a_bool = false\n\n            verified_i16 = 3\n            defaulted_i16 = 100\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 86..94,
                            msg: "Unknown key: a_string",
                        },
                    ],
                    help: Some(
                        "Did you mean: 'a_string', 'opt_a_string', or 'a_i64'?",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            a_u8 = 255\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            opt_a_u8 = 128\n            opt_a_i64 = -456\n            opt_a_f64 = 2.71\n            opt_a_string = 'Optional String'\n            opt_a_bool = false\n\n            verified_i16 = 3\n            defaulted_i16 = 100\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 125..131,
                            msg: "Unknown key: a_bool",
                        },
                    ],
                    help: Some(
                        "Did you mean: 'a_bool', 'a_f64', or 'a_u8'?",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            a_u8 = 255\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            opt_a_u8 = 128\n            opt_a_i64 = -456\n            opt_a_f64 = 2.71\n            opt_a_string = 'Optional String'\n            opt_a_bool = false\n\n            verified_i16 = 3\n            defaulted_i16 = 100\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 152..160,
                            msg: "Unknown key: opt_a_u8",
                        },
                    ],
                    help: Some(
                        "Did you mean: 'opt_a_u8', 'opt_a_i64', or 'opt_a_f64'?",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            a_u8 = 255\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            opt_a_u8 = 128\n            opt_a_i64 = -456\n            opt_a_f64 = 2.71\n            opt_a_string = 'Optional String'\n            opt_a_bool = false\n\n            verified_i16 = 3\n            defaulted_i16 = 100\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 179..188,
                            msg: "Unknown key: opt_a_i64",
                        },
                    ],
                    help: Some(
                        "Did you mean: 'opt_a_i64', 'opt_a_f64', or 'opt_a_u8'?",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            a_u8 = 255\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            opt_a_u8 = 128\n            opt_a_i64 = -456\n            opt_a_f64 = 2.71\n            opt_a_string = 'Optional String'\n            opt_a_bool = false\n\n            verified_i16 = 3\n            defaulted_i16 = 100\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 208..217,
                            msg: "Unknown key: opt_a_f64",
                        },
                    ],
                    help: Some(
                        "Did you mean: 'opt_a_f64', 'opt_a_i64', or 'opt_a_u8'?",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            a_u8 = 255\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            opt_a_u8 = 128\n            opt_a_i64 = -456\n            opt_a_f64 = 2.71\n            opt_a_string = 'Optional String'\n            opt_a_bool = false\n\n            verified_i16 = 3\n            defaulted_i16 = 100\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 237..249,
                            msg: "Unknown key: opt_a_string",
                        },
                    ],
                    help: Some(
                        "Did you mean: 'opt_a_string', 'a_string', or 'opt_a_i64'?",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            a_u8 = 255\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            opt_a_u8 = 128\n            opt_a_i64 = -456\n            opt_a_f64 = 2.71\n            opt_a_string = 'Optional String'\n            opt_a_bool = false\n\n            verified_i16 = 3\n            defaulted_i16 = 100\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 282..292,
                            msg: "Unknown key: opt_a_bool",
                        },
                    ],
                    help: Some(
                        "Did you mean: 'opt_a_bool', 'a_bool', or 'opt_a_u8'?",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            a_u8 = 255\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            opt_a_u8 = 128\n            opt_a_i64 = -456\n            opt_a_f64 = 2.71\n            opt_a_string = 'Optional String'\n            opt_a_bool = false\n\n            verified_i16 = 3\n            defaulted_i16 = 100\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 314..326,
                            msg: "Unknown key: verified_i16",
                        },
                    ],
                    help: Some(
                        "Did you mean: 'verified_i16', 'defaulted_i16', or 'a_i64'?",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            a_u8 = 255\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            opt_a_u8 = 128\n            opt_a_i64 = -456\n            opt_a_f64 = 2.71\n            opt_a_string = 'Optional String'\n            opt_a_bool = false\n\n            verified_i16 = 3\n            defaulted_i16 = 100\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 343..356,
                            msg: "Unknown key: defaulted_i16",
                        },
                    ],
                    help: Some(
                        "Did you mean: 'defaulted_i16', 'verified_i16', or 'a_i64'?",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            a_u8 = 255\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            opt_a_u8 = 128\n            opt_a_i64 = -456\n            opt_a_f64 = 2.71\n            opt_a_string = 'Optional String'\n            opt_a_bool = false\n\n            verified_i16 = 3\n            defaulted_i16 = 100\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 20..23,
                            msg: "Key/alias conflict (defined multiple times)",
                        },
                    ],
                    help: Some(
                        "Use only one of the keys involved. Canonical is 'a_u8'",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            a_u8 = 255\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            opt_a_u8 = 128\n            opt_a_i64 = -456\n            opt_a_f64 = 2.71\n            opt_a_string = 'Optional String'\n            opt_a_bool = false\n\n            verified_i16 = 3\n            defaulted_i16 = 100\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 44..48,
                            msg: "Key/alias conflict (defined multiple times)",
                        },
                    ],
                    help: Some(
                        "Use only one of the keys involved. Canonical is 'a_i64'",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            a_u8 = 255\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            opt_a_u8 = 128\n            opt_a_i64 = -456\n            opt_a_f64 = 2.71\n            opt_a_string = 'Optional String'\n            opt_a_bool = false\n\n            verified_i16 = 3\n            defaulted_i16 = 100\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 69..73,
                            msg: "Key/alias conflict (defined multiple times)",
                        },
                    ],
                    help: Some(
                        "Use only one of the keys involved. Canonical is 'a_f64'",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            a_u8 = 255\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            opt_a_u8 = 128\n            opt_a_i64 = -456\n            opt_a_f64 = 2.71\n            opt_a_string = 'Optional String'\n            opt_a_bool = false\n\n            verified_i16 = 3\n            defaulted_i16 = 100\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 97..112,
                            msg: "Key/alias conflict (defined multiple times)",
                        },
                    ],
                    help: Some(
                        "Use only one of the keys involved. Canonical is 'a_string'",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            a_u8 = 255\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            opt_a_u8 = 128\n            opt_a_i64 = -456\n            opt_a_f64 = 2.71\n            opt_a_string = 'Optional String'\n            opt_a_bool = false\n\n            verified_i16 = 3\n            defaulted_i16 = 100\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 134..138,
                            msg: "Key/alias conflict (defined multiple times)",
                        },
                    ],
                    help: Some(
                        "Use only one of the keys involved. Canonical is 'a_bool'",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            a_u8 = 255\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            opt_a_u8 = 128\n            opt_a_i64 = -456\n            opt_a_f64 = 2.71\n            opt_a_string = 'Optional String'\n            opt_a_bool = false\n\n            verified_i16 = 3\n            defaulted_i16 = 100\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 163..166,
                            msg: "Key/alias conflict (defined multiple times)",
                        },
                    ],
                    help: Some(
                        "Use only one of the keys involved. Canonical is 'opt_a_u8'",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            a_u8 = 255\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            opt_a_u8 = 128\n            opt_a_i64 = -456\n            opt_a_f64 = 2.71\n            opt_a_string = 'Optional String'\n            opt_a_bool = false\n\n            verified_i16 = 3\n            defaulted_i16 = 100\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 191..195,
                            msg: "Key/alias conflict (defined multiple times)",
                        },
                    ],
                    help: Some(
                        "Use only one of the keys involved. Canonical is 'opt_a_i64'",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            a_u8 = 255\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            opt_a_u8 = 128\n            opt_a_i64 = -456\n            opt_a_f64 = 2.71\n            opt_a_string = 'Optional String'\n            opt_a_bool = false\n\n            verified_i16 = 3\n            defaulted_i16 = 100\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 220..224,
                            msg: "Key/alias conflict (defined multiple times)",
                        },
                    ],
                    help: Some(
                        "Use only one of the keys involved. Canonical is 'opt_a_f64'",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            a_u8 = 255\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            opt_a_u8 = 128\n            opt_a_i64 = -456\n            opt_a_f64 = 2.71\n            opt_a_string = 'Optional String'\n            opt_a_bool = false\n\n            verified_i16 = 3\n            defaulted_i16 = 100\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 252..269,
                            msg: "Key/alias conflict (defined multiple times)",
                        },
                    ],
                    help: Some(
                        "Use only one of the keys involved. Canonical is 'opt_a_string'",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            a_u8 = 255\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            opt_a_u8 = 128\n            opt_a_i64 = -456\n            opt_a_f64 = 2.71\n            opt_a_string = 'Optional String'\n            opt_a_bool = false\n\n            verified_i16 = 3\n            defaulted_i16 = 100\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 295..300,
                            msg: "Key/alias conflict (defined multiple times)",
                        },
                    ],
                    help: Some(
                        "Use only one of the keys involved. Canonical is 'opt_a_bool'",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            a_u8 = 255\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            opt_a_u8 = 128\n            opt_a_i64 = -456\n            opt_a_f64 = 2.71\n            opt_a_string = 'Optional String'\n            opt_a_bool = false\n\n            verified_i16 = 3\n            defaulted_i16 = 100\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 329..330,
                            msg: "Key/alias conflict (defined multiple times)",
                        },
                    ],
                    help: Some(
                        "Use only one of the keys involved. Canonical is 'verified_i16'",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            a_u8 = 255\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            opt_a_u8 = 128\n            opt_a_i64 = -456\n            opt_a_f64 = 2.71\n            opt_a_string = 'Optional String'\n            opt_a_bool = false\n\n            verified_i16 = 3\n            defaulted_i16 = 100\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 359..362,
                            msg: "Key/alias conflict (defined multiple times)",
                        },
                    ],
                    help: Some(
                        "Use only one of the keys involved. Canonical is 'defaulted_i16'",
                    ),
                },
            },
        ],
        PartialOutput {
            a_u8: TomlValue {
                value: None,
                state: MultiDefined {
                    key: "a_u8",
                    spans: [
                        20..23,
                    ],
                },
                required: true,
            },
            a_i64: TomlValue {
                value: None,
                state: MultiDefined {
                    key: "a_i64",
                    spans: [
                        44..48,
                    ],
                },
                required: true,
            },
            a_f64: TomlValue {
                value: None,
                state: MultiDefined {
                    key: "a_f64",
                    spans: [
                        69..73,
                    ],
                },
                required: true,
            },
            a_string: TomlValue {
                value: None,
                state: MultiDefined {
                    key: "a_string",
                    spans: [
                        97..112,
                    ],
                },
                required: true,
            },
            a_bool: TomlValue {
                value: None,
                state: MultiDefined {
                    key: "a_bool",
                    spans: [
                        134..138,
                    ],
                },
                required: true,
            },
            opt_a_u8: TomlValue {
                value: Some(
                    None,
                ),
                state: MultiDefined {
                    key: "opt_a_u8",
                    spans: [
                        163..166,
                    ],
                },
                required: false,
            },
            opt_a_i64: TomlValue {
                value: Some(
                    None,
                ),
                state: MultiDefined {
                    key: "opt_a_i64",
                    spans: [
                        191..195,
                    ],
                },
                required: false,
            },
            opt_a_f64: TomlValue {
                value: Some(
                    None,
                ),
                state: MultiDefined {
                    key: "opt_a_f64",
                    spans: [
                        220..224,
                    ],
                },
                required: false,
            },
            opt_a_string: TomlValue {
                value: Some(
                    None,
                ),
                state: MultiDefined {
                    key: "opt_a_string",
                    spans: [
                        252..269,
                    ],
                },
                required: false,
            },
            opt_a_bool: TomlValue {
                value: Some(
                    None,
                ),
                state: MultiDefined {
                    key: "opt_a_bool",
                    spans: [
                        295..300,
                    ],
                },
                required: false,
            },
            verified_i16: TomlValue {
                value: None,
                state: MultiDefined {
                    key: "verified_i16",
                    spans: [
                        329..330,
                    ],
                },
                required: true,
            },
            defaulted_i16: TomlValue {
                value: None,
                state: MultiDefined {
                    key: "defaulted_i16",
                    spans: [
                        359..362,
                    ],
                },
                required: true,
            },
        },
    ),
)

thread 'test_validation_failure' (2421230) panicked at toml-pretty-deser/tests/basic.rs:163:9:
assertion `left == right` failed
  left: 24
 right: 1

---- test_range_validation stdout ----
[toml-pretty-deser/tests/basic.rs:219:5] &result = Err(
    DeserFailure(
        [
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            a_u8 = 300\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            opt_a_u8 = 128\n            opt_a_i64 = -456\n            opt_a_f64 = 2.71\n            opt_a_string = 'Optional String'\n            opt_a_bool = false\n\n            verified_i16 = 10\n            defaulted_i16 = 100\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 13..17,
                            msg: "Unknown key: a_u8",
                        },
                    ],
                    help: Some(
                        "Did you mean: 'a_u8', 'a_f64', or 'a_i64'?",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            a_u8 = 300\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            opt_a_u8 = 128\n            opt_a_i64 = -456\n            opt_a_f64 = 2.71\n            opt_a_string = 'Optional String'\n            opt_a_bool = false\n\n            verified_i16 = 10\n            defaulted_i16 = 100\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 36..41,
                            msg: "Unknown key: a_i64",
                        },
                    ],
                    help: Some(
                        "Did you mean: 'a_i64', 'a_f64', or 'a_u8'?",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            a_u8 = 300\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            opt_a_u8 = 128\n            opt_a_i64 = -456\n            opt_a_f64 = 2.71\n            opt_a_string = 'Optional String'\n            opt_a_bool = false\n\n            verified_i16 = 10\n            defaulted_i16 = 100\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 61..66,
                            msg: "Unknown key: a_f64",
                        },
                    ],
                    help: Some(
                        "Did you mean: 'a_f64', 'a_i64', or 'a_u8'?",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            a_u8 = 300\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            opt_a_u8 = 128\n            opt_a_i64 = -456\n            opt_a_f64 = 2.71\n            opt_a_string = 'Optional String'\n            opt_a_bool = false\n\n            verified_i16 = 10\n            defaulted_i16 = 100\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 86..94,
                            msg: "Unknown key: a_string",
                        },
                    ],
                    help: Some(
                        "Did you mean: 'a_string', 'opt_a_string', or 'a_i64'?",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            a_u8 = 300\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            opt_a_u8 = 128\n            opt_a_i64 = -456\n            opt_a_f64 = 2.71\n            opt_a_string = 'Optional String'\n            opt_a_bool = false\n\n            verified_i16 = 10\n            defaulted_i16 = 100\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 125..131,
                            msg: "Unknown key: a_bool",
                        },
                    ],
                    help: Some(
                        "Did you mean: 'a_bool', 'a_u8', or 'a_f64'?",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            a_u8 = 300\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            opt_a_u8 = 128\n            opt_a_i64 = -456\n            opt_a_f64 = 2.71\n            opt_a_string = 'Optional String'\n            opt_a_bool = false\n\n            verified_i16 = 10\n            defaulted_i16 = 100\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 152..160,
                            msg: "Unknown key: opt_a_u8",
                        },
                    ],
                    help: Some(
                        "Did you mean: 'opt_a_u8', 'opt_a_f64', or 'opt_a_i64'?",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            a_u8 = 300\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            opt_a_u8 = 128\n            opt_a_i64 = -456\n            opt_a_f64 = 2.71\n            opt_a_string = 'Optional String'\n            opt_a_bool = false\n\n            verified_i16 = 10\n            defaulted_i16 = 100\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 179..188,
                            msg: "Unknown key: opt_a_i64",
                        },
                    ],
                    help: Some(
                        "Did you mean: 'opt_a_i64', 'opt_a_f64', or 'opt_a_u8'?",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            a_u8 = 300\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            opt_a_u8 = 128\n            opt_a_i64 = -456\n            opt_a_f64 = 2.71\n            opt_a_string = 'Optional String'\n            opt_a_bool = false\n\n            verified_i16 = 10\n            defaulted_i16 = 100\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 208..217,
                            msg: "Unknown key: opt_a_f64",
                        },
                    ],
                    help: Some(
                        "Did you mean: 'opt_a_f64', 'opt_a_i64', or 'opt_a_u8'?",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            a_u8 = 300\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            opt_a_u8 = 128\n            opt_a_i64 = -456\n            opt_a_f64 = 2.71\n            opt_a_string = 'Optional String'\n            opt_a_bool = false\n\n            verified_i16 = 10\n            defaulted_i16 = 100\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 237..249,
                            msg: "Unknown key: opt_a_string",
                        },
                    ],
                    help: Some(
                        "Did you mean: 'opt_a_string', 'a_string', or 'opt_a_i64'?",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            a_u8 = 300\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            opt_a_u8 = 128\n            opt_a_i64 = -456\n            opt_a_f64 = 2.71\n            opt_a_string = 'Optional String'\n            opt_a_bool = false\n\n            verified_i16 = 10\n            defaulted_i16 = 100\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 282..292,
                            msg: "Unknown key: opt_a_bool",
                        },
                    ],
                    help: Some(
                        "Did you mean: 'opt_a_bool', 'opt_a_f64', or 'opt_a_i64'?",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            a_u8 = 300\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            opt_a_u8 = 128\n            opt_a_i64 = -456\n            opt_a_f64 = 2.71\n            opt_a_string = 'Optional String'\n            opt_a_bool = false\n\n            verified_i16 = 10\n            defaulted_i16 = 100\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 314..326,
                            msg: "Unknown key: verified_i16",
                        },
                    ],
                    help: Some(
                        "Did you mean: 'verified_i16', 'defaulted_i16', or 'opt_a_i64'?",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            a_u8 = 300\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            opt_a_u8 = 128\n            opt_a_i64 = -456\n            opt_a_f64 = 2.71\n            opt_a_string = 'Optional String'\n            opt_a_bool = false\n\n            verified_i16 = 10\n            defaulted_i16 = 100\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 344..357,
                            msg: "Unknown key: defaulted_i16",
                        },
                    ],
                    help: Some(
                        "Did you mean: 'defaulted_i16', 'verified_i16', or 'opt_a_i64'?",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            a_u8 = 300\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            opt_a_u8 = 128\n            opt_a_i64 = -456\n            opt_a_f64 = 2.71\n            opt_a_string = 'Optional String'\n            opt_a_bool = false\n\n            verified_i16 = 10\n            defaulted_i16 = 100\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 20..23,
                            msg: "Key/alias conflict (defined multiple times)",
                        },
                    ],
                    help: Some(
                        "Use only one of the keys involved. Canonical is 'a_u8'",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            a_u8 = 300\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            opt_a_u8 = 128\n            opt_a_i64 = -456\n            opt_a_f64 = 2.71\n            opt_a_string = 'Optional String'\n            opt_a_bool = false\n\n            verified_i16 = 10\n            defaulted_i16 = 100\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 44..48,
                            msg: "Key/alias conflict (defined multiple times)",
                        },
                    ],
                    help: Some(
                        "Use only one of the keys involved. Canonical is 'a_i64'",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            a_u8 = 300\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            opt_a_u8 = 128\n            opt_a_i64 = -456\n            opt_a_f64 = 2.71\n            opt_a_string = 'Optional String'\n            opt_a_bool = false\n\n            verified_i16 = 10\n            defaulted_i16 = 100\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 69..73,
                            msg: "Key/alias conflict (defined multiple times)",
                        },
                    ],
                    help: Some(
                        "Use only one of the keys involved. Canonical is 'a_f64'",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            a_u8 = 300\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            opt_a_u8 = 128\n            opt_a_i64 = -456\n            opt_a_f64 = 2.71\n            opt_a_string = 'Optional String'\n            opt_a_bool = false\n\n            verified_i16 = 10\n            defaulted_i16 = 100\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 97..112,
                            msg: "Key/alias conflict (defined multiple times)",
                        },
                    ],
                    help: Some(
                        "Use only one of the keys involved. Canonical is 'a_string'",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            a_u8 = 300\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            opt_a_u8 = 128\n            opt_a_i64 = -456\n            opt_a_f64 = 2.71\n            opt_a_string = 'Optional String'\n            opt_a_bool = false\n\n            verified_i16 = 10\n            defaulted_i16 = 100\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 134..138,
                            msg: "Key/alias conflict (defined multiple times)",
                        },
                    ],
                    help: Some(
                        "Use only one of the keys involved. Canonical is 'a_bool'",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            a_u8 = 300\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            opt_a_u8 = 128\n            opt_a_i64 = -456\n            opt_a_f64 = 2.71\n            opt_a_string = 'Optional String'\n            opt_a_bool = false\n\n            verified_i16 = 10\n            defaulted_i16 = 100\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 163..166,
                            msg: "Key/alias conflict (defined multiple times)",
                        },
                    ],
                    help: Some(
                        "Use only one of the keys involved. Canonical is 'opt_a_u8'",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            a_u8 = 300\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            opt_a_u8 = 128\n            opt_a_i64 = -456\n            opt_a_f64 = 2.71\n            opt_a_string = 'Optional String'\n            opt_a_bool = false\n\n            verified_i16 = 10\n            defaulted_i16 = 100\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 191..195,
                            msg: "Key/alias conflict (defined multiple times)",
                        },
                    ],
                    help: Some(
                        "Use only one of the keys involved. Canonical is 'opt_a_i64'",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            a_u8 = 300\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            opt_a_u8 = 128\n            opt_a_i64 = -456\n            opt_a_f64 = 2.71\n            opt_a_string = 'Optional String'\n            opt_a_bool = false\n\n            verified_i16 = 10\n            defaulted_i16 = 100\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 220..224,
                            msg: "Key/alias conflict (defined multiple times)",
                        },
                    ],
                    help: Some(
                        "Use only one of the keys involved. Canonical is 'opt_a_f64'",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            a_u8 = 300\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            opt_a_u8 = 128\n            opt_a_i64 = -456\n            opt_a_f64 = 2.71\n            opt_a_string = 'Optional String'\n            opt_a_bool = false\n\n            verified_i16 = 10\n            defaulted_i16 = 100\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 252..269,
                            msg: "Key/alias conflict (defined multiple times)",
                        },
                    ],
                    help: Some(
                        "Use only one of the keys involved. Canonical is 'opt_a_string'",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            a_u8 = 300\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            opt_a_u8 = 128\n            opt_a_i64 = -456\n            opt_a_f64 = 2.71\n            opt_a_string = 'Optional String'\n            opt_a_bool = false\n\n            verified_i16 = 10\n            defaulted_i16 = 100\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 295..300,
                            msg: "Key/alias conflict (defined multiple times)",
                        },
                    ],
                    help: Some(
                        "Use only one of the keys involved. Canonical is 'opt_a_bool'",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            a_u8 = 300\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            opt_a_u8 = 128\n            opt_a_i64 = -456\n            opt_a_f64 = 2.71\n            opt_a_string = 'Optional String'\n            opt_a_bool = false\n\n            verified_i16 = 10\n            defaulted_i16 = 100\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 329..331,
                            msg: "Key/alias conflict (defined multiple times)",
                        },
                    ],
                    help: Some(
                        "Use only one of the keys involved. Canonical is 'verified_i16'",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n            a_u8 = 300\n            a_i64 = -123\n            a_f64 = 3.14\n            a_string = 'Hello, World!'\n            a_bool = true\n\n            opt_a_u8 = 128\n            opt_a_i64 = -456\n            opt_a_f64 = 2.71\n            opt_a_string = 'Optional String'\n            opt_a_bool = false\n\n            verified_i16 = 10\n            defaulted_i16 = 100\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 360..363,
                            msg: "Key/alias conflict (defined multiple times)",
                        },
                    ],
                    help: Some(
                        "Use only one of the keys involved. Canonical is 'defaulted_i16'",
                    ),
                },
            },
        ],
        PartialOutput {
            a_u8: TomlValue {
                value: None,
                state: MultiDefined {
                    key: "a_u8",
                    spans: [
                        20..23,
                    ],
                },
                required: true,
            },
            a_i64: TomlValue {
                value: None,
                state: MultiDefined {
                    key: "a_i64",
                    spans: [
                        44..48,
                    ],
                },
                required: true,
            },
            a_f64: TomlValue {
                value: None,
                state: MultiDefined {
                    key: "a_f64",
                    spans: [
                        69..73,
                    ],
                },
                required: true,
            },
            a_string: TomlValue {
                value: None,
                state: MultiDefined {
                    key: "a_string",
                    spans: [
                        97..112,
                    ],
                },
                required: true,
            },
            a_bool: TomlValue {
                value: None,
                state: MultiDefined {
                    key: "a_bool",
                    spans: [
                        134..138,
                    ],
                },
                required: true,
            },
            opt_a_u8: TomlValue {
                value: Some(
                    None,
                ),
                state: MultiDefined {
                    key: "opt_a_u8",
                    spans: [
                        163..166,
                    ],
                },
                required: false,
            },
            opt_a_i64: TomlValue {
                value: Some(
                    None,
                ),
                state: MultiDefined {
                    key: "opt_a_i64",
                    spans: [
                        191..195,
                    ],
                },
                required: false,
            },
            opt_a_f64: TomlValue {
                value: Some(
                    None,
                ),
                state: MultiDefined {
                    key: "opt_a_f64",
                    spans: [
                        220..224,
                    ],
                },
                required: false,
            },
            opt_a_string: TomlValue {
                value: Some(
                    None,
                ),
                state: MultiDefined {
                    key: "opt_a_string",
                    spans: [
                        252..269,
                    ],
                },
                required: false,
            },
            opt_a_bool: TomlValue {
                value: Some(
                    None,
                ),
                state: MultiDefined {
                    key: "opt_a_bool",
                    spans: [
                        295..300,
                    ],
                },
                required: false,
            },
            verified_i16: TomlValue {
                value: None,
                state: MultiDefined {
                    key: "verified_i16",
                    spans: [
                        329..331,
                    ],
                },
                required: true,
            },
            defaulted_i16: TomlValue {
                value: None,
                state: MultiDefined {
                    key: "defaulted_i16",
                    spans: [
                        360..363,
                    ],
                },
                required: true,
            },
        },
    ),
)

thread 'test_range_validation' (2421222) panicked at toml-pretty-deser/tests/basic.rs:221:9:
assertion `left == right` failed
  left: 24
 right: 1


failures:
    test_alias_exact_mode
    test_alias_with_any_case_mode
    test_any_case_mode_camel
    test_any_case_mode_kebab
    test_any_case_mode_shouty
    test_any_case_mode_snake
    test_any_case_mode_train
    test_any_case_mode_upper_camel
    test_arrays
    test_arrays_with_optional
    test_complex_mixed_case
    test_complex_mixed_case_key_reused
    test_enum_happy_path
    test_enum_invalid_variant
    test_enum_optional_missing
    test_happy_path
    test_missing
    test_nested_happy
    test_nested_happy_half
    test_nested_lower_failure
    test_nested_with_alias
    test_nested_with_any_case_mode
    test_optional_missing
    test_range_validation
    test_two_errors_pretty
    test_two_level_nested_happy
    test_two_level_nested_inline_table
    test_two_level_nested_missing_inner
    test_two_level_nested_missing_inner_field
    test_two_level_nested_with_optional_nested
    test_upper_lower_mode
    test_validation_failure
    test_wrong_type

test result: FAILED. 5 passed; 33 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

error: test failed, to rerun pass `-p toml-pretty-deser --test basic`

*** result: Failure(101)
