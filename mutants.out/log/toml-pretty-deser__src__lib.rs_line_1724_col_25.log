
*** toml-pretty-deser/src/lib.rs:1724:25: delete match arm toml_edit::Item::Table(table) in <impl AsNested<P> for TomlValue<toml_edit::Item>>::as_nested

*** mutation diff:
--- toml-pretty-deser/src/lib.rs
+++ delete match arm toml_edit::Item::Table(table) in <impl AsNested<P> for TomlValue<toml_edit::Item>>::as_nested
@@ -1716,42 +1716,17 @@
         self,
         errors: &Rc<RefCell<Vec<AnnotatedError>>>,
         mode: FieldMatchMode,
     ) -> TomlValue<P> {
         match &self.state {
             TomlValueState::Ok { span } => {
                 if let Some(ref item) = self.value {
                     match item {
-                        toml_edit::Item::Table(table) => {
-                            let mut helper = TomlHelper::new(table, errors.clone(), mode);
-                            let partial =
-                                P::from_toml_table(&mut helper, &()).verify(&mut helper, &());
-                            helper.deny_unknown();
-
-                            // Collect any new errors from the nested deserialization
-
-                            if !partial.can_concrete() {
-                                // There were errors during nested deserialization
-                                TomlValue {
-                                    value: Some(partial),
-                                    required: self.required,
-                                    state: TomlValueState::ValidationFailed {
-                                        span: span.clone(),
-                                        message: "Nested struct has errors".to_string(),
-                                    },
-                                }
-                            } else {
-                                TomlValue {
-                                    value: Some(partial),
-                                    required: self.required,
-                                    state: TomlValueState::Ok { span: span.clone() },
-                                }
-                            }
-                        }
+                         /* ~ changed by cargo-mutants ~ */
                         toml_edit::Item::Value(toml_edit::Value::InlineTable(table)) => {
                             let mut helper = TomlHelper::new_inline(table, errors.clone(), mode);
                             let partial =
                                 P::from_toml_table(&mut helper, &()).verify(&mut helper, &());
                             helper.deny_unknown();
 
 
                             if !partial.can_concrete() {


*** /nix/store/826jircl576xphx7a459njgqfmcbd4x5-cargo-1.95.0-nightly-2026-01-21-x86_64-unknown-linux-gnu/bin/cargo test --no-run --verbose --package=toml-pretty-deser@0.1.0
       Fresh unicode-ident v1.0.22
       Fresh proc-macro2 v1.0.106
       Fresh autocfg v1.5.0
       Fresh quote v1.0.44
       Fresh equivalent v1.0.2
       Fresh hashbrown v0.16.1
       Fresh winnow v0.7.14
       Fresh toml_parser v1.0.6+spec-1.1.0
       Fresh indexmap v2.13.0
       Fresh syn v2.0.114
       Fresh regex-automata v0.4.13
       Fresh toml_writer v1.0.6+spec-1.1.0
       Fresh toml_datetime v0.7.5+spec-1.1.0
       Fresh memchr v2.7.6
       Fresh bstr v1.12.1
       Fresh toml_edit v0.24.0+spec-1.1.0
       Fresh num-traits v0.2.19
       Dirty toml-pretty-deser-macros v0.1.0 (/tmp/nix-shell.fWA0aw/cargo-mutants-toml-pretty-deser-zBlI0F.tmp/toml-pretty-deser-macros): the file `toml-pretty-deser-macros/src/lib.rs` has changed (1770036635.867331070s, 380983639ns after last build at 1770036635.486347431s)
   Compiling toml-pretty-deser-macros v0.1.0 (/tmp/nix-shell.fWA0aw/cargo-mutants-toml-pretty-deser-zBlI0F.tmp/toml-pretty-deser-macros)
     Running `rustc --crate-name toml_pretty_deser_macros --edition=2024 toml-pretty-deser-macros/src/lib.rs --error-format=json --json=diagnostic-rendered-ansi,artifacts,future-incompat --crate-type proc-macro --emit=dep-info,link -C prefer-dynamic -C embed-bitcode=no --check-cfg 'cfg(docsrs,test)' --check-cfg 'cfg(feature, values())' -C metadata=81120a598c00f9fa -C extra-filename=-f792c9db6a0b2842 --out-dir /home/finkernagel/.cache/cargo/target/debug/deps -C incremental=/home/finkernagel/.cache/cargo/target/debug/incremental -L dependency=/home/finkernagel/.cache/cargo/target/debug/deps --extern proc_macro2=/home/finkernagel/.cache/cargo/target/debug/deps/libproc_macro2-3b81e34eea8b22ad.rlib --extern quote=/home/finkernagel/.cache/cargo/target/debug/deps/libquote-17bdff8842b26ed8.rlib --extern syn=/home/finkernagel/.cache/cargo/target/debug/deps/libsyn-2ef69c79628e106e.rlib --extern proc_macro -C link-arg=-fuse-ld=mold`
       Fresh strsim v0.11.1
       Fresh codesnake v0.2.1
       Dirty toml-pretty-deser v0.1.0 (/tmp/nix-shell.fWA0aw/cargo-mutants-toml-pretty-deser-zBlI0F.tmp/toml-pretty-deser): couldn't read metadata for file `/home/finkernagel/.cache/cargo/target/debug/deps/libtoml_pretty_deser-23ebeb13d54ac447.rlib`
   Compiling toml-pretty-deser v0.1.0 (/tmp/nix-shell.fWA0aw/cargo-mutants-toml-pretty-deser-zBlI0F.tmp/toml-pretty-deser)
     Running `rustc --crate-name toml_pretty_deser --edition=2024 toml-pretty-deser/src/lib.rs --error-format=json --json=diagnostic-rendered-ansi,artifacts,future-incompat --crate-type lib --emit=dep-info,metadata,link -C embed-bitcode=no -C debuginfo=2 --check-cfg 'cfg(docsrs,test)' --check-cfg 'cfg(feature, values())' -C metadata=a852430a061c5350 -C extra-filename=-23ebeb13d54ac447 --out-dir /home/finkernagel/.cache/cargo/target/debug/deps -C incremental=/home/finkernagel/.cache/cargo/target/debug/incremental -L dependency=/home/finkernagel/.cache/cargo/target/debug/deps --extern bstr=/home/finkernagel/.cache/cargo/target/debug/deps/libbstr-4045620ba0449622.rmeta --extern codesnake=/home/finkernagel/.cache/cargo/target/debug/deps/libcodesnake-4b12368228b7ace0.rmeta --extern memchr=/home/finkernagel/.cache/cargo/target/debug/deps/libmemchr-ce879c287aae1239.rmeta --extern num_traits=/home/finkernagel/.cache/cargo/target/debug/deps/libnum_traits-163a578cc7663ca5.rmeta --extern strsim=/home/finkernagel/.cache/cargo/target/debug/deps/libstrsim-35e26dbaedb97986.rmeta --extern toml_pretty_deser_macros=/home/finkernagel/.cache/cargo/target/debug/deps/libtoml_pretty_deser_macros-f792c9db6a0b2842.so --extern toml_edit=/home/finkernagel/.cache/cargo/target/debug/deps/libtoml_edit-6ba341dc50ff9c99.rmeta -C link-arg=-fuse-ld=mold`
     Running `rustc --crate-name toml_pretty_deser --edition=2024 toml-pretty-deser/src/lib.rs --error-format=json --json=diagnostic-rendered-ansi,artifacts,future-incompat --emit=dep-info,link -C embed-bitcode=no -C debuginfo=2 --test --check-cfg 'cfg(docsrs,test)' --check-cfg 'cfg(feature, values())' -C metadata=857480bb847c9bbe -C extra-filename=-07d9828939c75c69 --out-dir /home/finkernagel/.cache/cargo/target/debug/deps -C incremental=/home/finkernagel/.cache/cargo/target/debug/incremental -L dependency=/home/finkernagel/.cache/cargo/target/debug/deps --extern bstr=/home/finkernagel/.cache/cargo/target/debug/deps/libbstr-4045620ba0449622.rlib --extern codesnake=/home/finkernagel/.cache/cargo/target/debug/deps/libcodesnake-4b12368228b7ace0.rlib --extern memchr=/home/finkernagel/.cache/cargo/target/debug/deps/libmemchr-ce879c287aae1239.rlib --extern num_traits=/home/finkernagel/.cache/cargo/target/debug/deps/libnum_traits-163a578cc7663ca5.rlib --extern strsim=/home/finkernagel/.cache/cargo/target/debug/deps/libstrsim-35e26dbaedb97986.rlib --extern toml_pretty_deser_macros=/home/finkernagel/.cache/cargo/target/debug/deps/libtoml_pretty_deser_macros-f792c9db6a0b2842.so --extern toml_edit=/home/finkernagel/.cache/cargo/target/debug/deps/libtoml_edit-6ba341dc50ff9c99.rlib -C link-arg=-fuse-ld=mold`
warning: field `allowed` is never read
   --> toml-pretty-deser/src/lib.rs:775:5
    |
767 | pub struct TomlHelper<'a> {
    |            ---------- field in this struct
...
775 |     allowed: HashMap<String, String>,
    |     ^^^^^^^
    |
    = note: `#[warn(dead_code)]` (part of `#[warn(unused)]`) on by default

warning: `toml-pretty-deser` (lib) generated 1 warning
     Running `rustc --crate-name basic --edition=2024 toml-pretty-deser/tests/basic.rs --error-format=json --json=diagnostic-rendered-ansi,artifacts,future-incompat --emit=dep-info,link -C embed-bitcode=no -C debuginfo=2 --test --check-cfg 'cfg(docsrs,test)' --check-cfg 'cfg(feature, values())' -C metadata=608c682146c4ede0 -C extra-filename=-c7883bdc8893c706 --out-dir /home/finkernagel/.cache/cargo/target/debug/deps -C incremental=/home/finkernagel/.cache/cargo/target/debug/incremental -L dependency=/home/finkernagel/.cache/cargo/target/debug/deps --extern bstr=/home/finkernagel/.cache/cargo/target/debug/deps/libbstr-4045620ba0449622.rlib --extern codesnake=/home/finkernagel/.cache/cargo/target/debug/deps/libcodesnake-4b12368228b7ace0.rlib --extern memchr=/home/finkernagel/.cache/cargo/target/debug/deps/libmemchr-ce879c287aae1239.rlib --extern num_traits=/home/finkernagel/.cache/cargo/target/debug/deps/libnum_traits-163a578cc7663ca5.rlib --extern strsim=/home/finkernagel/.cache/cargo/target/debug/deps/libstrsim-35e26dbaedb97986.rlib --extern toml_pretty_deser=/home/finkernagel/.cache/cargo/target/debug/deps/libtoml_pretty_deser-23ebeb13d54ac447.rlib --extern toml_pretty_deser_macros=/home/finkernagel/.cache/cargo/target/debug/deps/libtoml_pretty_deser_macros-f792c9db6a0b2842.so --extern toml_edit=/home/finkernagel/.cache/cargo/target/debug/deps/libtoml_edit-6ba341dc50ff9c99.rlib -C link-arg=-fuse-ld=mold`
warning: `toml-pretty-deser` (lib test) generated 1 warning (1 duplicate)
warning: unused variable: `errors`
   --> toml-pretty-deser/tests/basic.rs:535:41
    |
535 |     if let Err(DeserError::DeserFailure(errors, output)) = result {
    |                                         ^^^^^^ help: if this is intentional, prefix it with an underscore: `_errors`
    |
    = note: `#[warn(unused_variables)]` (part of `#[warn(unused)]`) on by default

warning: unused variable: `errors`
    --> toml-pretty-deser/tests/basic.rs:1076:41
     |
1076 |     if let Err(DeserError::DeserFailure(errors, output)) = result {
     |                                         ^^^^^^ help: if this is intentional, prefix it with an underscore: `_errors`

warning: `toml-pretty-deser` (test "basic") generated 2 warnings (run `cargo fix --test "basic" -p toml-pretty-deser` to apply 2 suggestions)
    Finished `test` profile [unoptimized + debuginfo] target(s) in 0.52s
  Executable `/home/finkernagel/.cache/cargo/target/debug/deps/toml_pretty_deser-07d9828939c75c69`
  Executable `/home/finkernagel/.cache/cargo/target/debug/deps/basic-c7883bdc8893c706`

*** result: Success

*** /nix/store/826jircl576xphx7a459njgqfmcbd4x5-cargo-1.95.0-nightly-2026-01-21-x86_64-unknown-linux-gnu/bin/cargo test --verbose --package=toml-pretty-deser@0.1.0
       Fresh unicode-ident v1.0.22
       Fresh proc-macro2 v1.0.106
       Fresh autocfg v1.5.0
       Fresh quote v1.0.44
       Fresh winnow v0.7.14
       Fresh equivalent v1.0.2
       Fresh hashbrown v0.16.1
       Fresh indexmap v2.13.0
       Fresh toml_parser v1.0.6+spec-1.1.0
       Fresh syn v2.0.114
       Fresh toml_writer v1.0.6+spec-1.1.0
       Fresh toml_datetime v0.7.5+spec-1.1.0
       Fresh memchr v2.7.6
       Fresh regex-automata v0.4.13
       Fresh bstr v1.12.1
       Fresh toml_edit v0.24.0+spec-1.1.0
       Fresh num-traits v0.2.19
       Fresh toml-pretty-deser-macros v0.1.0 (/tmp/nix-shell.fWA0aw/cargo-mutants-toml-pretty-deser-zBlI0F.tmp/toml-pretty-deser-macros)
       Fresh strsim v0.11.1
       Fresh codesnake v0.2.1
warning: field `allowed` is never read
   --> toml-pretty-deser/src/lib.rs:775:5
    |
767 | pub struct TomlHelper<'a> {
    |            ---------- field in this struct
...
775 |     allowed: HashMap<String, String>,
    |     ^^^^^^^
    |
    = note: `#[warn(dead_code)]` (part of `#[warn(unused)]`) on by default

warning: `toml-pretty-deser` (lib) generated 1 warning
warning: unused variable: `errors`
   --> toml-pretty-deser/tests/basic.rs:535:41
    |
535 |     if let Err(DeserError::DeserFailure(errors, output)) = result {
    |                                         ^^^^^^ help: if this is intentional, prefix it with an underscore: `_errors`
    |
    = note: `#[warn(unused_variables)]` (part of `#[warn(unused)]`) on by default

warning: unused variable: `errors`
    --> toml-pretty-deser/tests/basic.rs:1076:41
     |
1076 |     if let Err(DeserError::DeserFailure(errors, output)) = result {
     |                                         ^^^^^^ help: if this is intentional, prefix it with an underscore: `_errors`

warning: `toml-pretty-deser` (test "basic") generated 2 warnings (run `cargo fix --test "basic" -p toml-pretty-deser` to apply 2 suggestions)
       Fresh toml-pretty-deser v0.1.0 (/tmp/nix-shell.fWA0aw/cargo-mutants-toml-pretty-deser-zBlI0F.tmp/toml-pretty-deser)
warning: `toml-pretty-deser` (lib test) generated 1 warning (1 duplicate)
    Finished `test` profile [unoptimized + debuginfo] target(s) in 0.01s
     Running `/home/finkernagel/.cache/cargo/target/debug/deps/toml_pretty_deser-07d9828939c75c69`

running 2 tests
test tests::test_field_match_mode ... ok
test tests::test_normalize_no_case ... ok

test result: ok. 2 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

     Running `/home/finkernagel/.cache/cargo/target/debug/deps/basic-c7883bdc8893c706`

running 38 tests
test test_any_case_mode_kebab ... ok
test test_alias_exact_mode ... ok
test test_any_case_mode_shouty ... ok
test test_alias_exact_mode_failure ... ok
test test_any_case_mode_camel ... ok
test test_alias_with_any_case_mode ... ok
test test_any_case_mode_train ... ok
test test_any_case_mode_snake ... ok
test test_arrays ... ok
test test_any_case_mode_unknown_key ... ok
test test_array_wrong_element_type ... ok
test test_any_case_mode_upper_camel ... ok
test test_complex_mixed_case ... ok
test test_arrays_with_optional ... ok
test test_enum_invalid_variant ... ok
test test_enum_missing_required ... ok
test test_enum_happy_path ... ok
test test_complex_mixed_case_key_reused ... ok
test test_enum_optional_missing ... ok
test test_nested_happy_half ... FAILED
test test_happy_path ... ok
test test_missing ... ok
test test_nested_happy ... FAILED
test test_nested_with_any_case_mode ... FAILED
test test_nested_with_alias ... FAILED
test test_nested_lower_failure ... FAILED
test test_optional_missing ... ok
test test_two_errors_pretty ... FAILED
test test_range_validation ... ok
test test_two_level_nested_inline_table ... ok
test test_two_level_nested_missing_inner ... FAILED
test test_two_level_nested_happy ... FAILED
test test_two_level_nested_missing_inner_field ... FAILED
test test_two_level_nested_with_optional_nested ... FAILED
test test_upper_lower_mode ... ok
test test_vec_missing ... ok
test test_wrong_type ... ok
test test_validation_failure ... ok

failures:

---- test_nested_happy_half stdout ----
[toml-pretty-deser/tests/basic.rs:493:5] &result = Err(
    StillIncomplete(
        [],
        PartialOuter {
            nested: TomlValue {
                value: None,
                state: WrongType {
                    span: 9..17,
                    expected: "table or inline table",
                    found: "other type",
                },
                required: true,
            },
            inline_nested: TomlValue {
                value: None,
                state: Missing {
                    key: "inline_nested",
                    parent_span: 0..0,
                },
                required: true,
            },
            opt_nested: TomlValue {
                value: Some(
                    None,
                ),
                state: Ok {
                    span: 0..0,
                },
                required: false,
            },
            vec_nested: TomlValue {
                value: None,
                state: Missing {
                    key: "vec_nested",
                    parent_span: 0..0,
                },
                required: true,
            },
        },
    ),
)

thread 'test_nested_happy_half' (2411404) panicked at toml-pretty-deser/tests/basic.rs:504:9:
explicit panic
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace

---- test_nested_happy stdout ----
[toml-pretty-deser/tests/basic.rs:468:5] &result = Err(
    StillIncomplete(
        [],
        PartialOuter {
            nested: TomlValue {
                value: None,
                state: WrongType {
                    span: 91..99,
                    expected: "table or inline table",
                    found: "other type",
                },
                required: true,
            },
            inline_nested: TomlValue {
                value: Some(
                    PartialNested {
                        name: TomlValue {
                            value: Some(
                                "d",
                            ),
                            state: Ok {
                                span: 46..49,
                            },
                            required: true,
                        },
                        value: TomlValue {
                            value: Some(
                                4,
                            ),
                            state: Ok {
                                span: 71..72,
                            },
                            required: true,
                        },
                    },
                ),
                state: Ok {
                    span: 25..82,
                },
                required: true,
            },
            opt_nested: TomlValue {
                value: Some(
                    Some(
                        PartialNested {
                            name: TomlValue {
                                value: Some(
                                    "b",
                                ),
                                state: Ok {
                                    span: 186..189,
                                },
                                required: true,
                            },
                            value: TomlValue {
                                value: Some(
                                    2,
                                ),
                                state: Ok {
                                    span: 210..211,
                                },
                                required: true,
                            },
                        },
                    ),
                ),
                state: Ok {
                    span: 154..166,
                },
                required: false,
            },
            vec_nested: TomlValue {
                value: Some(
                    [
                        PartialNested {
                            name: TomlValue {
                                value: Some(
                                    "c1",
                                ),
                                state: Ok {
                                    span: 255..259,
                                },
                                required: true,
                            },
                            value: TomlValue {
                                value: Some(
                                    31,
                                ),
                                state: Ok {
                                    span: 280..282,
                                },
                                required: true,
                            },
                        },
                        PartialNested {
                            name: TomlValue {
                                value: Some(
                                    "c2",
                                ),
                                state: Ok {
                                    span: 326..330,
                                },
                                required: true,
                            },
                            value: TomlValue {
                                value: Some(
                                    32,
                                ),
                                state: Ok {
                                    span: 351..353,
                                },
                                required: true,
                            },
                        },
                    ],
                ),
                state: Ok {
                    span: 221..306,
                },
                required: true,
            },
        },
    ),
)

thread 'test_nested_happy' (2411403) panicked at toml-pretty-deser/tests/basic.rs:469:5:
assertion failed: result.is_ok()

---- test_nested_with_any_case_mode stdout ----
[toml-pretty-deser/tests/basic.rs:1028:5] &result = Err(
    StillIncomplete(
        [],
        PartialOuterAliased {
            nested: TomlValue {
                value: None,
                state: WrongType {
                    span: 9..17,
                    expected: "table or inline table",
                    found: "other type",
                },
                required: true,
            },
        },
    ),
)

thread 'test_nested_with_any_case_mode' (2411407) panicked at toml-pretty-deser/tests/basic.rs:1029:5:
assertion failed: result.is_ok()

---- test_nested_with_alias stdout ----
[toml-pretty-deser/tests/basic.rs:1012:5] &result = Err(
    StillIncomplete(
        [],
        PartialOuterAliased {
            nested: TomlValue {
                value: None,
                state: WrongType {
                    span: 9..17,
                    expected: "table or inline table",
                    found: "other type",
                },
                required: true,
            },
        },
    ),
)

thread 'test_nested_with_alias' (2411406) panicked at toml-pretty-deser/tests/basic.rs:1013:5:
assertion failed: result.is_ok()

---- test_nested_lower_failure stdout ----
[toml-pretty-deser/tests/basic.rs:534:5] &result = Err(
    DeserFailure(
        [
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n        inline_nested = {\n            name = 2,\n            value = 4\n        }\n        [nested]\n            name = 55\n            value = 1\n\n        [opt_nested]\n            name = 55\n            value = 2\n\n        [[vec_nested]]\n            name = 55\n            value = 31\n\n        [[vec_nested]]\n            name = 55\n            value = 32\n\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 46..47,
                            msg: "Wrong type: expected string, found integer",
                        },
                    ],
                    help: Some(
                        "The value has the wrong type.",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n        inline_nested = {\n            name = 2,\n            value = 4\n        }\n        [nested]\n            name = 55\n            value = 1\n\n        [opt_nested]\n            name = 55\n            value = 2\n\n        [[vec_nested]]\n            name = 55\n            value = 31\n\n        [[vec_nested]]\n            name = 55\n            value = 32\n\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 183..185,
                            msg: "Wrong type: expected string, found integer",
                        },
                    ],
                    help: Some(
                        "The value has the wrong type.",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n        inline_nested = {\n            name = 2,\n            value = 4\n        }\n        [nested]\n            name = 55\n            value = 1\n\n        [opt_nested]\n            name = 55\n            value = 2\n\n        [[vec_nested]]\n            name = 55\n            value = 31\n\n        [[vec_nested]]\n            name = 55\n            value = 32\n\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 251..253,
                            msg: "Wrong type: expected string, found integer",
                        },
                    ],
                    help: Some(
                        "The value has the wrong type.",
                    ),
                },
            },
            HydratedAnnotatedError {
                source: RefCell {
                    value: "\n        inline_nested = {\n            name = 2,\n            value = 4\n        }\n        [nested]\n            name = 55\n            value = 1\n\n        [opt_nested]\n            name = 55\n            value = 2\n\n        [[vec_nested]]\n            name = 55\n            value = 31\n\n        [[vec_nested]]\n            name = 55\n            value = 32\n\n        ",
                },
                inner: AnnotatedError {
                    spans: [
                        SpannedMessage {
                            span: 320..322,
                            msg: "Wrong type: expected string, found integer",
                        },
                    ],
                    help: Some(
                        "The value has the wrong type.",
                    ),
                },
            },
        ],
        PartialOuter {
            nested: TomlValue {
                value: None,
                state: WrongType {
                    span: 89..97,
                    expected: "table or inline table",
                    found: "other type",
                },
                required: true,
            },
            inline_nested: TomlValue {
                value: Some(
                    PartialNested {
                        name: TomlValue {
                            value: None,
                            state: WrongType {
                                span: 46..47,
                                expected: "string",
                                found: "integer",
                            },
                            required: true,
                        },
                        value: TomlValue {
                            value: Some(
                                4,
                            ),
                            state: Ok {
                                span: 69..70,
                            },
                            required: true,
                        },
                    },
                ),
                state: ValidationFailed {
                    span: 25..80,
                    message: "Nested struct has errors",
                },
                required: true,
            },
            opt_nested: TomlValue {
                value: Some(
                    Some(
                        PartialNested {
                            name: TomlValue {
                                value: None,
                                state: WrongType {
                                    span: 183..185,
                                    expected: "string",
                                    found: "integer",
                                },
                                required: true,
                            },
                            value: TomlValue {
                                value: Some(
                                    2,
                                ),
                                state: Ok {
                                    span: 206..207,
                                },
                                required: true,
                            },
                        },
                    ),
                ),
                state: ValidationFailed {
                    span: 151..163,
                    message: "Nested struct has errors",
                },
                required: false,
            },
            vec_nested: TomlValue {
                value: Some(
                    [
                        PartialNested {
                            name: TomlValue {
                                value: None,
                                state: WrongType {
                                    span: 251..253,
                                    expected: "string",
                                    found: "integer",
                                },
                                required: true,
                            },
                            value: TomlValue {
                                value: Some(
                                    31,
                                ),
                                state: Ok {
                                    span: 274..276,
                                },
                                required: true,
                            },
                        },
                        PartialNested {
                            name: TomlValue {
                                value: None,
                                state: WrongType {
                                    span: 320..322,
                                    expected: "string",
                                    found: "integer",
                                },
                                required: true,
                            },
                            value: TomlValue {
                                value: Some(
                                    32,
                                ),
                                state: Ok {
                                    span: 343..345,
                                },
                                required: true,
                            },
                        },
                    ],
                ),
                state: ValidationFailed {
                    span: 217..300,
                    message: "Array of nested structs has errors",
                },
                required: true,
            },
        },
    ),
)

thread 'test_nested_lower_failure' (2411405) panicked at toml-pretty-deser/tests/basic.rs:554:9:
assertion failed: matches!(output.nested.state, TomlValueState::ValidationFailed { .. })

---- test_two_errors_pretty stdout ----
[toml-pretty-deser/tests/basic.rs:739:5] &result = Err(
    StillIncomplete(
        [],
        PartialRoot {
            level1: TomlValue {
                value: None,
                state: WrongType {
                    span: 9..17,
                    expected: "table or inline table",
                    found: "other type",
                },
                required: true,
            },
            opt_level1: TomlValue {
                value: Some(
                    None,
                ),
                state: Ok {
                    span: 0..0,
                },
                required: false,
            },
        },
    ),
)

thread 'test_two_errors_pretty' (2411410) panicked at toml-pretty-deser/tests/basic.rs:758:9:
Expected failure due to missing data field in level2

---- test_two_level_nested_missing_inner stdout ----
[toml-pretty-deser/tests/basic.rs:695:5] &result = Err(
    StillIncomplete(
        [],
        PartialRoot {
            level1: TomlValue {
                value: None,
                state: WrongType {
                    span: 9..17,
                    expected: "table or inline table",
                    found: "other type",
                },
                required: true,
            },
            opt_level1: TomlValue {
                value: Some(
                    None,
                ),
                state: Ok {
                    span: 0..0,
                },
                required: false,
            },
        },
    ),
)

thread 'test_two_level_nested_missing_inner' (2411413) panicked at toml-pretty-deser/tests/basic.rs:698:47:
called `Option::unwrap()` on a `None` value

---- test_two_level_nested_happy stdout ----
[toml-pretty-deser/tests/basic.rs:614:5] &result = Err(
    StillIncomplete(
        [],
        PartialRoot {
            level1: TomlValue {
                value: None,
                state: WrongType {
                    span: 9..17,
                    expected: "table or inline table",
                    found: "other type",
                },
                required: true,
            },
            opt_level1: TomlValue {
                value: Some(
                    Some(
                        PartialLevel1 {
                            name: TomlValue {
                                value: Some(
                                    "opt_name",
                                ),
                                state: Ok {
                                    span: 150..160,
                                },
                                required: true,
                            },
                            level2: TomlValue {
                                value: None,
                                state: WrongType {
                                    span: 170..189,
                                    expected: "table or inline table",
                                    found: "other type",
                                },
                                required: true,
                            },
                            opt_level2: TomlValue {
                                value: Some(
                                    None,
                                ),
                                state: Ok {
                                    span: 0..0,
                                },
                                required: false,
                            },
                        },
                    ),
                ),
                state: ValidationFailed {
                    span: 118..130,
                    message: "Nested struct has errors",
                },
                required: false,
            },
        },
    ),
)

thread 'test_two_level_nested_happy' (2411411) panicked at toml-pretty-deser/tests/basic.rs:615:5:
assertion failed: result.is_ok()

---- test_two_level_nested_missing_inner_field stdout ----
[toml-pretty-deser/tests/basic.rs:715:5] &result = Err(
    StillIncomplete(
        [],
        PartialRoot {
            level1: TomlValue {
                value: None,
                state: WrongType {
                    span: 9..17,
                    expected: "table or inline table",
                    found: "other type",
                },
                required: true,
            },
            opt_level1: TomlValue {
                value: Some(
                    None,
                ),
                state: Ok {
                    span: 0..0,
                },
                required: false,
            },
        },
    ),
)

thread 'test_two_level_nested_missing_inner_field' (2411414) panicked at toml-pretty-deser/tests/basic.rs:723:9:
Expected failure due to missing data field in level2

---- test_two_level_nested_with_optional_nested stdout ----
[toml-pretty-deser/tests/basic.rs:643:5] &result = Err(
    StillIncomplete(
        [],
        PartialRoot {
            level1: TomlValue {
                value: None,
                state: WrongType {
                    span: 9..17,
                    expected: "table or inline table",
                    found: "other type",
                },
                required: true,
            },
            opt_level1: TomlValue {
                value: Some(
                    None,
                ),
                state: Ok {
                    span: 0..0,
                },
                required: false,
            },
        },
    ),
)

thread 'test_two_level_nested_with_optional_nested' (2411415) panicked at toml-pretty-deser/tests/basic.rs:644:5:
assertion failed: result.is_ok()


failures:
    test_nested_happy
    test_nested_happy_half
    test_nested_lower_failure
    test_nested_with_alias
    test_nested_with_any_case_mode
    test_two_errors_pretty
    test_two_level_nested_happy
    test_two_level_nested_missing_inner
    test_two_level_nested_missing_inner_field
    test_two_level_nested_with_optional_nested

test result: FAILED. 28 passed; 10 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

error: test failed, to rerun pass `-p toml-pretty-deser --test basic`

*** result: Failure(101)
